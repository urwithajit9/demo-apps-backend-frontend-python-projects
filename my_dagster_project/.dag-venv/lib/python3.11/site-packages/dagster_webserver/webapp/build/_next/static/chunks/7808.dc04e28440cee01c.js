"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7808],{21473:function(e,n,t){t.d(n,{G:function(){return I}});var r=t(73235),i=t(52322),s=t(49853),o=t(49308),l=t(14934),a=t(37483),d=t(43212),c=t(89891),p=t(80122),u=t(21993),h=t(2784),x=t(7267),m=t(36381),j=t(76016),g=t(20958),f=t(78491),y=t(16336),v=t(69737),b=t(33298),S=t(30916),w=t(43984),C=t(33182),A=t(52338),N=t(15332),P=t(88610),E=t(59923),k=t(85062),O=t(100),R=t(22563),_=t(10539);function $(){let e=(0,r._)(["\n  query PipelineRunsRootQuery($limit: Int, $cursor: String, $filter: RunsFilter!) {\n    pipelineRunsOrError(limit: $limit, cursor: $cursor, filter: $filter) {\n      ... on Runs {\n        results {\n          id\n          ...RunTableRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"]);return $=function(){return e},e}let F=["status","tag","id","created_date_before","created_date_after"],I=e=>{(0,v.Px)();let{pipelinePath:n}=(0,x.UO)(),{repoAddress:t=null}=e,r=(0,m.p3)(n),{pipelineName:u,snapshotId:g}=r,f=(0,O.Ux)(t),S=(0,O.E8)(f,u);(0,j.b)(r,S);let[P,_]=(0,A.oD)(F),$=(0,h.useMemo)(()=>[S?{token:"job",value:u}:{token:"pipeline",value:u},g?{token:"snapshotId",value:g}:null].filter(Boolean),[S,u,g]),I=[...P,...$];if(t){let e={token:"tag",value:"".concat(w.H.RepositoryLabelTag,"=").concat((0,R.Wg)(t))};I.push(e)}let{queryResult:z,paginationProps:U}=(0,N.l)({query:M,pageSize:25,variables:{filter:{...(0,A.VH)(I),pipelineName:u,snapshotId:g}},nextCursorForResult:e=>{var n;if("Runs"===e.pipelineRunsOrError.__typename)return null===(n=e.pipelineRunsOrError.results[24])||void 0===n?void 0:n.id},getResultArray:e=>e&&"Runs"===e.pipelineRunsOrError.__typename?e.pipelineRunsOrError.results:[]}),L=(0,h.useCallback)(e=>{let n=(0,s.HY)(e);P.some(e=>(0,s.HY)(e)===n)||_([...P,e])},[P,_]),D=(0,y.C4)(z,y.dT),{button:V,activeFiltersJsx:J}=(0,A.Vv)({enabledFilters:F,tokens:P,onChange:_,loading:z.loading});return(0,i.jsx)(C.Lw.Provider,{value:{refetch:z.refetch},children:(0,i.jsx)(o.T,{children:(0,i.jsx)(E.g,{queryResult:z,allowStaleData:!0,children:e=>{let{pipelineRunsOrError:r}=e;if("Runs"!==r.__typename)return(0,i.jsx)(l.x,{padding:{vertical:64},children:(0,i.jsx)(a.t,{icon:"error",title:"Query Error",description:r.message})});let s=r.results.slice(0,25),{hasNextCursor:o,hasPrevCursor:h}=U;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.Y,{$top:0,children:(0,i.jsx)(b.A,{runs:s,onAddTag:L,actionBarComponents:(0,i.jsxs)(l.x,{flex:{direction:"row",justifyContent:"space-between",grow:1,alignItems:"center",gap:4},margin:{right:8},children:[V,(0,i.jsx)(y.xi,{refreshState:D})]}),belowActionBarComponents:(0,i.jsxs)(i.Fragment,{children:[$.map(e=>{let{token:n,value:t}=e;return(0,i.jsx)(d.V,{children:"".concat(n,":").concat(t)},n)}),J.length?(0,i.jsxs)(i.Fragment,{children:[J,(0,i.jsx)(c.Z,{onClick:()=>{_([])},children:"Clear all"})]}):null]}),emptyState:()=>(0,i.jsx)(T,{repoAddress:t,anyFilter:P.length>0,jobName:u,jobPath:n})})}),o||h?(0,i.jsx)("div",{style:{marginTop:"20px"},children:(0,i.jsx)(p.pI,{...U})}):null]})}})})})},T=e=>{let{repoAddress:n,anyFilter:t,jobName:r,jobPath:s}=e,o=(0,O.Ux)(n),d=(0,O.Hb)(o,r);return(0,i.jsx)(l.x,{padding:{vertical:64},children:(0,i.jsx)(a.t,{icon:"run",title:"No runs found",description:n?d?(0,i.jsxs)(l.x,{flex:{direction:"column",gap:12},children:[(0,i.jsx)("div",{children:t?"There are no matching runs for these filters.":"You have not materialized any assets with this job yet."}),(0,i.jsx)("div",{children:(0,i.jsx)(P.A,{icon:(0,i.jsx)(u.JO,{name:"materialization"}),to:(0,_.$U)(n,"/jobs/".concat(s)),children:"Materialize an asset"})})]}):(0,i.jsxs)(l.x,{flex:{direction:"column",gap:12},children:[(0,i.jsx)("div",{children:t?"There are no matching runs for these filters.":"You have not launched any runs for this job yet."}),(0,i.jsx)("div",{children:(0,i.jsx)(P.A,{icon:(0,i.jsx)(u.JO,{name:"add_circle"}),to:(0,_.$U)(n,"/jobs/".concat(s,"/playground")),children:"Launch a run"})})]}):(0,i.jsx)("div",{children:"You have not launched any runs for this job."})})})},M=(0,g.Ps)($(),S.Z,f.B)},91319:function(e,n,t){t.d(n,{y:function(){return p}});var r=t(52322),i=t(14934),s=t(35002),o=t(39013),l=t(21993),a=t(83373),d=t(47933),c=t(35505);let p=e=>{let{active:n=!1,item:t}=e,{type:o,icon:l,label:a,rightElement:d,tooltip:c="",disabled:p=!1}=t,u=(0,r.jsxs)(i.x,{padding:{vertical:4,left:12,right:8},flex:{direction:"row",gap:8,alignItems:"center",justifyContent:"space-between"},children:[(0,r.jsxs)(i.x,{flex:{direction:"row",gap:8,alignItems:"center"},className:"iconAndLabel",children:[l,a]}),(0,r.jsx)("div",{children:d})]});return"link"!==o||p?(0,r.jsx)(s.u,{canShow:!!c,content:c,placement:"right",display:"block",children:(0,r.jsx)(x,{$active:n,disabled:p,onClick:t.onClick,children:u})}):(0,r.jsx)(s.u,{canShow:!!c,content:c,placement:"right",display:"block",children:(0,r.jsx)(h,{to:t.path,$active:n,children:u})})},u=(0,c.iv)(["background-color:",";border-radius:8px;color:",";display:block;font-size:14px;line-height:20px;text-decoration:none;transition:100ms background-color linear;user-select:none;width:100%;:focus{outline:none;background-color:",";}:hover,:active{background-color:",";color:",";text-decoration:none;}.iconAndLabel{","{background-color:",";}}"],e=>{let{$active:n}=e;return n?o.Dd():"transparent"},e=>{let{$active:n}=e;return n?o.Ne():o.Ep()},e=>{let{$active:n}=e;return n?o.Dd():o.gJ()},e=>{let{$active:n}=e;return n?o.Dd():o._c()},e=>{let{$active:n}=e;return n?o.Ne():o.Ep()},l.a1,e=>{let{$active:n}=e;return n?o.Ne():o.Ep()}),h=(0,c.ZP)(d.rU).withConfig({componentId:"sc-a48d7aeb-0"})(["",""],u),x=(0,c.ZP)(a.k).withConfig({componentId:"sc-a48d7aeb-1"})(["",""],u)},12576:function(e,n,t){t.d(n,{F8:function(){return b},OM:function(){return y},_y:function(){return S},hN:function(){return w}});var r=t(52322),i=t(35002),s=t(53664),o=t(14934),l=t(39013),a=t(43212),d=t(89891),c=t(38491),p=t(21993),u=t(2784),h=t(35505),x=t(81306),m=t(50309),j=t(85227),g=t(22203),f=t(68954);let y=e=>{let{metadata:n}=e,t=(0,j.m)(),o=n.find(e=>{let{key:n}=e;return"image"===n}),l=(null==o?void 0:o.value)||"",a=(0,u.useCallback)(async()=>{t(l),await (0,m.B7)({intent:"success",icon:"done",message:"Image string copied!"})},[t,l]);return o?(0,r.jsxs)(v,{flex:{direction:"row",gap:4},children:[(0,r.jsx)("span",{style:{fontWeight:500},children:"image:"}),(0,r.jsx)(i.u,{content:"Click to copy",placement:"top",display:"block",children:(0,r.jsx)("button",{onClick:a,children:(0,r.jsx)(s.g,{text:o.value})})})]}):null},v=(0,h.ZP)(o.x).withConfig({componentId:"sc-2baaf57f-0"})(["width:100%;color:",";font-size:12px;.bp4-popover2-target{overflow:hidden;}button{background:",";border:none;color:",";cursor:pointer;font-size:12px;overflow:hidden;padding:0;margin:0;width:100%;:focus{outline:none;}}"],l.$(),l.v8(),l.$()),b=e=>{let{metadata:n}=e,t=n.find(e=>{let{key:n}=e;return"module_name"===n||"package_name"===n||"python_file"===n});return t?(0,r.jsxs)(o.x,{flex:{direction:"row",gap:4},style:{width:"100%",color:l.$(),fontSize:12},children:[(0,r.jsxs)("span",{style:{fontWeight:500},children:[t.key,":"]}),(0,r.jsx)(s.g,{text:t.value})]}):null},S=e=>{var n;let{locationStatus:t,locationOrError:i}=e,[s,l]=(0,u.useState)(!1),c=(0,u.useMemo)(()=>(0,f.je)(t.name),[t.name]),{reloading:p,tryReload:h}=(0,f.Dc)({scope:"location",reloadFn:c});return"LOADING"===t.loadStatus?(0,r.jsx)(a.V,{minimal:!0,intent:"primary",children:"Updating..."}):(null==i?void 0:i.updatedTimestamp)!==t.updateTimestamp?(0,r.jsx)(a.V,{minimal:!0,intent:"primary",children:"Loading..."}):(null==i?void 0:null===(n=i.locationOrLoadError)||void 0===n?void 0:n.__typename)==="PythonError"?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.x,{flex:{alignItems:"center",gap:12},children:[(0,r.jsx)(a.V,{minimal:!0,intent:"danger",children:"Failed"}),(0,r.jsx)(d.Z,{onClick:()=>l(!0),children:(0,r.jsx)("span",{style:{fontSize:"14px"},children:"View error"})})]}),(0,r.jsx)(x.p,{location:t.name,isOpen:s,error:i.locationOrLoadError,reloading:p,onDismiss:()=>l(!1),onTryReload:()=>h()})]}):(0,r.jsx)(a.V,{minimal:!0,intent:"success",children:"Loaded"})},w=e=>{let{location:n}=e;return(0,r.jsx)(g.s,{location:n,ChildComponent:e=>{let{reloading:n,tryReload:t,hasReloadPermission:s}=e;return(0,r.jsx)(o.x,{flex:{direction:"row",alignItems:"center",gap:4},children:(0,r.jsx)(i.u,{content:s?"":g.H,canShow:!s,useDisabledButtonTooltipFix:!0,children:(0,r.jsx)(c.zx,{icon:(0,r.jsx)(p.JO,{name:"refresh"}),disabled:!s,loading:n,onClick:()=>t(),children:"Reload"})})})}})}},97808:function(e,n,t){t.r(n),t.d(n,{WorkspaceRoot:function(){return ij},default:function(){return ig}});var r=t(52322),i=t(14934),s=t(37483),o=t(45774),l=t(66962),a=t(2784),d=t(7267),c=t(47933),p=t(22563);let u=e=>{let{repoAddress:n}=e,t=(0,p.Uz)(n);return(0,r.jsx)(s.t,{icon:"code_location",title:"Code location not found",description:(0,r.jsxs)(i.x,{flex:{direction:"column",gap:12},style:{wordBreak:"break-word"},children:[(0,r.jsxs)("div",{children:["Code location ",(0,r.jsx)("strong",{children:t})," is not available in this workspace."]}),(0,r.jsxs)("div",{children:["Check your ",(0,r.jsx)(c.rU,{to:"/deployment",children:"deployment settings"})," for errors."]})]})})};var h=t(73235),x=t(74580),m=t(35292),j=t(43212),g=t(20958),f=t(78491),y=t(69737),v=t(20171),b=t(79059),S=t(67126),w=t(17298),C=t(36381),A=t(59923),N=t(10539);function P(){let e=(0,h._)(["\n  query GraphExplorerRootQuery(\n    $graphSelector: GraphSelector\n    $rootHandleID: String!\n    $requestScopeHandleID: String\n  ) {\n    graphOrError(selector: $graphSelector) {\n      ... on Graph {\n        id\n        name\n        solidHandle(handleID: $rootHandleID) {\n          ...GraphExplorerSolidHandleFragment\n        }\n        solidHandles(parentHandleID: $requestScopeHandleID) {\n          handleID\n          solid {\n            name\n          }\n          ...GraphExplorerSolidHandleFragment\n        }\n        ...GraphExplorerFragment\n      }\n      ... on GraphNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return P=function(){return e},e}let E=e=>{(0,y.Px)();let{repoAddress:n}=e,t=(0,d.UO)(),s=(0,C.p3)(t[0]),o=s.opNames.length>1?s.opNames[s.opNames.length-2]:s.pipelineName;return(0,v.j)("Graph: ".concat(o)),(0,r.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,r.jsx)(x.m,{title:(0,r.jsx)(m.X6,{children:o}),tags:(0,r.jsxs)(j.V,{icon:"schema",children:["Graph in ",(0,r.jsx)(b.b,{repoAddress:n})]})}),(0,r.jsx)(i.x,{border:"top",style:{minHeight:0,flex:1,display:"flex"},children:(0,r.jsx)(k,{repoAddress:n})})]})},k=e=>{let{repoAddress:n}=e,t=(0,d.UO)(),i=(0,C.p3)(t["0"]),o=(0,d.k6)(),[l,c]=(0,a.useState)({explodeComposites:!1,preferAssetRendering:!0}),p=i.opNames.slice(0,i.opNames.length-1),u=(0,g.aM)(O,{variables:{graphSelector:{repositoryName:(null==n?void 0:n.name)||"",repositoryLocationName:(null==n?void 0:n.location)||"",graphName:i.pipelineName},rootHandleID:p.join("."),requestScopeHandleID:l.explodeComposites?void 0:p.join(".")}});return(0,r.jsx)(A.g,{queryResult:u,children:t=>{let{graphOrError:a}=t;if("GraphNotFoundError"===a.__typename)return(0,r.jsx)(s.t,{icon:"error",title:"Graph not found",description:a.message});if("PythonError"===a.__typename)return(0,r.jsx)(s.t,{icon:"error",title:"Query Error",description:a.message});let d=a.solidHandle,p=l.explodeComposites?(0,S.i)(a.solidHandles):a.solidHandles;return(0,r.jsx)(w.m0,{options:l,setOptions:c,explorerPath:i,onChangeExplorerPath:(n,t)=>{let r=(0,N.$U)(e.repoAddress,"/graphs/".concat((0,C.gY)(n)));"push"===t?o.push(r):o.replace(r)},container:a,repoAddress:n,handles:p,parentHandle:d||void 0,isGraph:!0,getInvocations:e=>p.filter(n=>n.solid.definition.name===e).map(e=>({handleID:e.handleID}))})}})},O=(0,g.Ps)(P(),w.Q,w.Sm,f.B);var R=t(79106),_=t(39013),$=t(74159),F=t(21993),I=t(88510),T=t(35505),M=t(55141),z=t(71406),U=t(44900),L=t(4128),D=t(30001);let V=e=>Array.isArray(e)?e:[],J=e=>{let{basePath:n}=(0,a.useContext)(L.I),[t,r]=(0,D.U)("".concat(n,":dagster.").concat(e),V),i=(0,a.useCallback)(e=>{r(n=>{let t=new Set(n||[]);return t.has(e)?t.delete(e):t.add(e),Array.from(t)})},[r]);return(0,a.useMemo)(()=>({expandedKeys:t,onToggle:i}),[t,i])},H=e=>{let{repoAddress:n,assets:t}=e,r=(0,p.Uz)(n),{expandedKeys:i,onToggle:s}=J("".concat(r,"-").concat("assets-virtualized-expansion-state")),o=(0,a.useMemo)(()=>{let e={};for(let n of t){let t=n.groupName||"UNGROUPED";e[t]||(e[t]=[]),e[t].push(n)}return Object.values(e).forEach(e=>{e.sort((e,n)=>z.Bl.compare((0,U.ll)(e.assetKey),(0,U.ll)(n.assetKey)))}),e},[t]);return{flattened:(0,a.useMemo)(()=>{let e=[];return Object.entries(o).sort((e,n)=>{let[t]=e,[r]=n;return z.Bl.compare(t,r)}).forEach(n=>{let[t,r]=n;e.push({type:"group",name:t,assetCount:r.length}),i.includes(t)&&r.forEach(n=>{e.push({type:"asset",id:n.id,definition:n})})}),e},[o,i]),expandedKeys:new Set(i),onToggle:s}};var B=t(17008);let q="UNGROUPED",G=e=>{let{repoAddress:n,assets:t}=e,i=(0,a.useRef)(null),{flattened:s,expandedKeys:o,onToggle:l}=H({repoAddress:n,assets:t}),d=(0,I.MG)({count:s.length,getScrollElement:()=>i.current,estimateSize:e=>{let n=s[e];return(null==n?void 0:n.type)==="group"?48:64},overscan:5}),c=d.getTotalSize(),p=d.getVirtualItems();return(0,r.jsx)("div",{style:{overflow:"hidden"},children:(0,r.jsxs)(B.W2,{ref:i,children:[(0,r.jsx)(M.XC,{nameLabel:"Asset name"}),(0,r.jsx)(B.Nh,{$totalHeight:c,children:p.map(e=>{let{index:t,key:i,size:a,start:d}=e,c=s[t];return"group"===c.type?(0,r.jsx)(Q,{repoAddress:n,groupName:c.name,assetCount:c.assetCount,expanded:o.has(c.name),height:a,start:d,onToggle:l},i):(0,r.jsx)(M.pN,{showCheckboxColumn:!1,definition:c.definition,path:c.definition.assetKey.path,type:"asset",repoAddress:n,showRepoColumn:!1,height:a,start:d,checked:!1,onToggleChecked:()=>{},onRefresh:()=>{}},i)})})]})})},Q=e=>{let{repoAddress:n,groupName:t,assetCount:s,expanded:o,height:l,start:a,onToggle:d}=e;return(0,r.jsx)(K,{$height:l,$start:a,onClick:()=>d(t),$open:o,tabIndex:0,onKeyDown:e=>{("Space"===e.code||"Enter"===e.code)&&(e.preventDefault(),d(t))},children:(0,r.jsxs)(i.x,{background:_.gJ(),flex:{direction:"row",alignItems:"center",gap:8,justifyContent:"space-between"},padding:{horizontal:24},border:"bottom",style:{height:"100%"},children:[(0,r.jsxs)(i.x,{flex:{alignItems:"center",gap:8},children:[(0,r.jsx)(F.JO,{name:"asset_group"}),t===q?(0,r.jsx)("div",{children:"Ungrouped assets"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("strong",{children:t}),t!==q?(0,r.jsx)(i.x,{margin:{left:12},children:(0,r.jsx)(c.rU,{to:(0,N.$U)(n,"/asset-groups/".concat(t)),children:(0,r.jsxs)(i.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,r.jsx)("span",{children:"View lineage"}),(0,r.jsx)(F.JO,{name:"open_in_new",size:16,color:_.Es()})]})})}):null]})]}),(0,r.jsxs)(i.x,{flex:{direction:"row",alignItems:"center",gap:12},children:[(0,r.jsx)(j.V,{children:1===s?"1 asset":"".concat(s," assets")}),(0,r.jsx)(F.JO,{name:"arrow_drop_down",size:20})]})]})})},K=(0,T.ZP)(B.X2).withConfig({componentId:"sc-11cd9961-0"})(["cursor:pointer;:focus,:active{outline:none;}",'[aria-label="arrow_drop_down"]{transition:transform 100ms linear;',"}"],F.a1,e=>{let{$open:n}=e;return n?null:"transform: rotate(-90deg);"});var W=t(61083);function Z(){let e=(0,h._)(["\n  fragment RepoAssetTableFragment on AssetNode {\n    id\n    assetKey {\n      path\n    }\n    groupName\n    ...AssetTableDefinitionFragment\n  }\n\n  ","\n"]);return Z=function(){return e},e}function Y(){let e=(0,h._)(["\n  query WorkspaceAssetsQuery($selector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $selector) {\n      ... on Repository {\n        id\n        name\n        assetNodes {\n          id\n          ...RepoAssetTableFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"]);return Y=function(){return e},e}let X=(0,g.Ps)(Z(),W.s),ee=(0,g.Ps)(Y(),X,f.B);var en=t(5842),et=t(20718),er=t(16336),ei=t(82420),es=t(4378);let eo=e=>{let{repoAddress:n}=e;(0,y.Px)();let t=(0,p.Uz)(n);(0,v.j)("Assets: ".concat(t));let o=(0,et.$)(n),[l,d]=(0,es.q)({queryKey:"search",defaults:{search:""}}),c=(0,g.aM)(ee,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,variables:{selector:o}}),{data:u,loading:h}=c,x=(0,er.C4)(c,er.dT),m=l.trim().toLocaleLowerCase().length>0,j=(0,a.useMemo)(()=>(null==u?void 0:u.repositoryOrError.__typename)==="Repository"?u.repositoryOrError.assetNodes:[],[u]),f=(0,ei.f)(l,j);return(0,r.jsxs)(i.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,r.jsx)(en.h,{repoAddress:n,tab:"assets",refreshState:x}),(0,r.jsx)(i.x,{padding:{horizontal:24,vertical:16},children:(0,r.jsx)($.oi,{icon:"search",value:l,onChange:e=>d(e.target.value),placeholder:"Filter by asset name…",style:{width:"340px"}})}),h&&!u?(0,r.jsx)(i.x,{padding:64,children:(0,r.jsx)(R.$,{purpose:"page"})}):h&&!u?(0,r.jsx)(i.x,{flex:{direction:"row",justifyContent:"center"},style:{paddingTop:"100px"},children:(0,r.jsxs)(i.x,{flex:{direction:"row",alignItems:"center",gap:16},children:[(0,r.jsx)(R.$,{purpose:"body-text"}),(0,r.jsx)("div",{style:{color:_.$()},children:"Loading assets…"})]})}):f.length?(0,r.jsx)(G,{repoAddress:n,assets:f}):m?(0,r.jsx)(i.x,{padding:{top:20},children:(0,r.jsx)(s.t,{icon:"search",title:"No matching assets",description:(0,r.jsxs)("div",{children:["No assets matching ",(0,r.jsx)("strong",{children:l})," were found in ",t]})})}):(0,r.jsx)(i.x,{padding:{top:20},children:(0,r.jsx)(s.t,{icon:"search",title:"No assets",description:"No assets were found in ".concat(t)})})]})};var el=t(100),ea=t(83738);function ed(){let e=(0,h._)(["\n  query SingleGraphQuery($selector: GraphSelector!) {\n    graphOrError(selector: $selector) {\n      ... on Graph {\n        id\n        name\n        description\n      }\n    }\n  }\n"]);return ed=function(){return e},e}let ec=e=>{let{repoAddress:n,graphs:t}=e,i=(0,a.useRef)(null),s=(0,I.MG)({count:t.length,getScrollElement:()=>i.current,estimateSize:()=>64,overscan:10}),o=s.getTotalSize(),l=s.getVirtualItems();return(0,r.jsx)("div",{style:{overflow:"hidden"},children:(0,r.jsxs)(B.W2,{ref:i,children:[(0,r.jsx)(B.VJ,{templateColumns:"100%",sticky:!0,children:(0,r.jsx)(B.qN,{children:"Graph"})}),(0,r.jsx)(B.Nh,{$totalHeight:o,children:l.map(e=>{let{index:i,key:s,size:o,start:l}=e,a=t[i];return(0,r.jsx)(ep,{name:a.name,description:a.description,path:a.path,repoAddress:n,height:o,start:l},s)})})]})})},ep=e=>{let{name:n,path:t,description:s,repoAddress:o,start:l,height:d}=e,[p,u]=(0,g.td)(eh,{variables:{selector:{repositoryName:o.name,repositoryLocationName:o.location,graphName:n}}});(0,ea.v5)(p);let{data:h}=u,x=(0,a.useMemo)(()=>s||((null==h?void 0:h.graphOrError.__typename)==="Graph"?h.graphOrError.description:null),[h,s]);return(0,r.jsx)(B.X2,{$height:d,$start:l,children:(0,r.jsx)(eu,{border:"bottom",children:(0,r.jsx)(B.E5,{children:(0,r.jsxs)(i.x,{flex:{direction:"column"},children:[(0,r.jsx)("div",{style:{whiteSpace:"nowrap",fontWeight:500},children:(0,r.jsx)(c.rU,{to:(0,N.$U)(o,t),children:n})}),x?(0,r.jsx)("div",{style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},children:(0,r.jsx)(m.YS,{style:{color:_.$(),whiteSpace:"nowrap"},children:x})}):null]})})})})},eu=(0,T.ZP)(i.x).withConfig({componentId:"sc-879da1f8-0"})(["display:grid;grid-template-columns:100%;height:100%;"]),eh=(0,g.Ps)(ed());function ex(){let e=(0,h._)(["\n  fragment RepositoryGraphsFragment on Repository {\n    id\n    usedSolids {\n      definition {\n        ... on CompositeSolidDefinition {\n          id\n          name\n          description\n        }\n      }\n      invocations {\n        pipeline {\n          id\n          name\n        }\n        solidHandle {\n          handleID\n        }\n      }\n    }\n    pipelines {\n      id\n      name\n      isJob\n      graphName\n    }\n  }\n"]);return ex=function(){return e},e}function em(){let e=(0,h._)(["\n  query WorkspaceGraphsQuery($selector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $selector) {\n      ... on Repository {\n        id\n        ...RepositoryGraphsFragment\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"]);return em=function(){return e},e}let ej=(0,g.Ps)(ex()),eg=(0,g.Ps)(em(),ej,f.B),ef=e=>{let n=Array.from(new Set(e.pipelines.filter(e=>e.isJob&&!(0,U.pv)(e.name)).map(e=>e.graphName))).map(e=>({name:e,path:"/graphs/".concat(e),description:null}));return e.usedSolids.forEach(e=>{if("CompositeSolidDefinition"===e.definition.__typename){let t=e.invocations[0];t&&n.push({name:e.definition.name,path:"/graphs/".concat(t.pipeline.name,"/").concat(t.solidHandle.handleID,"/"),description:e.definition.description})}}),n.sort((e,n)=>z.Bl.compare(e.name,n.name))},ey=e=>{let{repoAddress:n}=e;(0,y.Px)();let t=(0,p.Uz)(n);(0,v.j)("Graphs: ".concat(t));let o=(0,et.$)(n),[l,d]=(0,es.q)({queryKey:"search",defaults:{search:""}}),c=(0,g.aM)(eg,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,variables:{selector:o}}),{data:u,loading:h}=c,x=(0,er.C4)(c,er.dT),m=l.trim().toLocaleLowerCase(),j=m.length>0,f=(0,a.useMemo)(()=>{let e=null==u?void 0:u.repositoryOrError;return e&&"Repository"===e.__typename?ef(e):[]},[u]),b=(0,a.useMemo)(()=>{let e=m.toLocaleLowerCase();return f.filter(n=>{let{name:t}=n;return t.toLocaleLowerCase().includes(e)})},[f,m]);return(0,r.jsxs)(i.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,r.jsx)(en.h,{repoAddress:n,tab:"graphs",refreshState:x}),(0,r.jsx)(i.x,{padding:{horizontal:24,vertical:16},children:(0,r.jsx)($.oi,{icon:"search",value:l,onChange:e=>d(e.target.value),placeholder:"Filter by graph name…",style:{width:"340px"}})}),h&&!u?(0,r.jsx)(i.x,{padding:64,children:(0,r.jsx)(R.$,{purpose:"page"})}):h&&!u?(0,r.jsx)(i.x,{flex:{direction:"row",justifyContent:"center"},style:{paddingTop:"100px"},children:(0,r.jsxs)(i.x,{flex:{direction:"row",alignItems:"center",gap:16},children:[(0,r.jsx)(R.$,{purpose:"body-text"}),(0,r.jsx)("div",{style:{color:_.$()},children:"Loading graphs…"})]})}):b.length?(0,r.jsx)(ec,{repoAddress:n,graphs:b}):j?(0,r.jsx)(i.x,{padding:{top:20},children:(0,r.jsx)(s.t,{icon:"search",title:"No matching graphs",description:(0,r.jsxs)("div",{children:["No graphs matching ",(0,r.jsx)("strong",{children:l})," were found in ",t]})})}):(0,r.jsx)(i.x,{padding:{top:20},children:(0,r.jsx)(s.t,{icon:"search",title:"No graphs",description:"No graphs were found in ".concat(t)})})]})};var ev=t(63485);let eb=e=>{let{repoAddress:n,jobs:t}=e,i=(0,a.useRef)(null),s=(0,I.MG)({count:t.length,getScrollElement:()=>i.current,estimateSize:()=>64,overscan:10}),o=s.getTotalSize(),l=s.getVirtualItems();return(0,r.jsx)("div",{style:{overflow:"hidden"},children:(0,r.jsxs)(B.W2,{ref:i,children:[(0,r.jsx)(ev.I,{}),(0,r.jsx)(B.Nh,{$totalHeight:o,children:l.map(e=>{let{index:i,key:s,size:o,start:l}=e,a=t[i];return(0,r.jsx)(ev.b,{name:a.name,isJob:a.isJob,repoAddress:n,height:o,start:l},s)})})]})})};var eS=t(34219),ew=t(73658);function eC(){let e=(0,h._)(["\n  query WorkspaceJobsQuery($selector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $selector) {\n      ... on Repository {\n        id\n        name\n        pipelines {\n          id\n          name\n          isJob\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"]);return eC=function(){return e},e}let eA=[],eN=e=>{let{repoAddress:n}=e;(0,y.Px)();let t=(0,el.Ux)(n),o=(0,p.Uz)(n);(0,v.j)("Jobs: ".concat(o));let l=(0,et.$)(n),[d,c]=(0,es.q)({queryKey:"search",defaults:{search:""}}),u=(0,g.aM)(eP,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,variables:{selector:l}}),{data:h,loading:x}=u,m=(0,er.C4)(u,er.dT),j=d.trim().toLocaleLowerCase(),f=j.length>0,b=(0,a.useMemo)(()=>(null==h?void 0:h.repositoryOrError.__typename)==="Repository"?h.repositoryOrError.pipelines:t?t.repository.pipelines:eA,[h,t]),S=b===eA;(0,eS.j$)("WorkspaceJobs",!S);let w=(0,a.useMemo)(()=>{let e=j.toLocaleLowerCase();return b.filter(n=>{let{name:t}=n;return!(0,U.pv)(t)&&t.toLocaleLowerCase().includes(e)})},[b,j]),C=!h&&x;return(0,r.jsxs)(i.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,r.jsx)(en.h,{repoAddress:n,tab:"jobs",refreshState:m}),(0,r.jsx)(i.x,{padding:{horizontal:24,vertical:16},children:(0,r.jsx)($.oi,{icon:"search",value:d,onChange:e=>c(e.target.value),placeholder:"Filter by job name…",style:{width:"340px"},rightElement:C?(0,r.jsx)(ew.W,{tooltipContent:"Loading jobs…"}):void 0})}),S&&!h?(0,r.jsx)(i.x,{padding:64,children:(0,r.jsx)(R.$,{purpose:"page"})}):S&&!h?(0,r.jsx)(i.x,{flex:{direction:"row",justifyContent:"center"},style:{paddingTop:"100px"},children:(0,r.jsxs)(i.x,{flex:{direction:"row",alignItems:"center",gap:16},children:[(0,r.jsx)(R.$,{purpose:"body-text"}),(0,r.jsx)("div",{style:{color:_.$()},children:"Loading jobs…"})]})}):w.length?(0,r.jsx)(eb,{repoAddress:n,jobs:w}):f?(0,r.jsx)(i.x,{padding:{top:20},children:(0,r.jsx)(s.t,{icon:"search",title:"No matching jobs",description:(0,r.jsxs)("div",{children:["No jobs matching ",(0,r.jsx)("strong",{children:d})," were found in ",o]})})}):(0,r.jsx)(i.x,{padding:{top:20},children:(0,r.jsx)(s.t,{icon:"search",title:"No jobs",description:"No jobs were found in ".concat(o)})})]})},eP=(0,g.Ps)(eC(),f.B);var eE=t(49853),ek=t(89776),eO=t(53664),eR=t(19126),e_=t.n(eR),e$=t(41830),eF=t(56789);function eI(){let e=(0,h._)(["\n  fragment OpCardSolidDefinitionFragment on ISolidDefinition {\n    name\n    description\n    metadata {\n      key\n      value\n    }\n    inputDefinitions {\n      name\n    }\n    outputDefinitions {\n      name\n    }\n    ...OpNodeDefinitionFragment\n  }\n\n  ","\n"]);return eI=function(){return e},e}let eT=e=>{let{name:n,inputDefinitions:t,outputDefinitions:s}=e.definition,o=(0,eF.og)({name:n,inputs:t.map(e=>({definition:e,dependsOn:[]})),outputs:s.map(e=>({definition:e,dependedBy:[]})),definition:{description:null,assetNodes:[]}},{x:0,y:0});return(0,r.jsx)(i.x,{padding:24,children:(0,r.jsx)(ez,{style:{height:o.bounds.height},children:(0,r.jsx)(e$.Un,{invocation:void 0,definition:e.definition,minified:!1,onClick:()=>{},onDoubleClick:()=>{},onEnterComposite:()=>{},onHighlightEdges:()=>{},layout:o,selected:!1,focused:!1,highlightedEdges:[],dim:!1})})})},eM=(0,g.Ps)(eI(),e$.WH),ez=T.ZP.div.withConfig({componentId:"sc-9cf19fed-0"})(["flex:1;max-width:450px;position:relative;"]);var eU=t(96266);function eL(){let e=(0,h._)(["\n  query UsedSolidDetailsQuery($name: String!, $repositorySelector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $repositorySelector) {\n      ... on Repository {\n        id\n        usedSolid(name: $name) {\n          definition {\n            ...OpCardSolidDefinitionFragment\n            ...SidebarOpDefinitionFragment\n          }\n          invocations {\n            pipeline {\n              id\n              name\n            }\n            solidHandle {\n              handleID\n            }\n          }\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return eL=function(){return e},e}let eD=e=>{let{name:n,onClickInvocation:t,repoAddress:i}=e,s=(0,et.$)(i),o=(0,g.aM)(eV,{variables:{name:n,repositorySelector:s}});return(0,r.jsx)(A.g,{queryResult:o,children:e=>{let{repositoryOrError:n}=e;if(!((null==n?void 0:n.__typename)==="Repository"&&n.usedSolid))return null;let i=n.usedSolid;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eT,{definition:i.definition}),(0,r.jsx)(eU.I,{definition:i.definition,showingSubgraph:!1,onClickInvocation:t,getInvocations:()=>i.invocations.map(e=>({handleID:e.solidHandle.handleID,pipelineName:e.pipeline.name}))})]})}})},eV=(0,g.Ps)(eL(),eM,eU.u),eJ=T.ZP.div.withConfig({componentId:"sc-d5331a42-0"})(["overflow-y:scroll;flex:1;"]);var eH=t(13233);function eB(){let e=(0,h._)(["\n  query OpsRootQuery($repositorySelector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $repositorySelector) {\n      ... on Repository {\n        id\n        usedSolids {\n          ...OpsRootUsedSolid\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  fragment OpsRootUsedSolid on UsedSolid {\n    definition {\n      name\n      ...OpTypeSignatureFragment\n    }\n    invocations {\n      pipeline {\n        id\n        isJob\n        name\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return eB=function(){return e},e}function eq(e){let n={};for(let t of e)for(let e of t)n[e]=!0;return Object.keys(n).sort((e,n)=>e.localeCompare(n))}let eG=e=>{(0,y.Px)(),(0,v.j)("Ops");let{name:n}=(0,d.UO)(),{repoAddress:t}=e,i=(0,et.$)(t),s=(0,g.aM)(eW,{variables:{repositorySelector:i}});return(0,r.jsx)("div",{style:{flex:1,minHeight:0},children:(0,r.jsx)(A.g,{queryResult:s,children:i=>{let{repositoryOrError:s}=i;return(null==s?void 0:s.__typename)==="Repository"&&s.usedSolids?(0,r.jsx)(eQ,{...e,name:n,repoAddress:t,usedSolids:s.usedSolids}):null}})})},eQ=e=>{let{name:n,repoAddress:t,usedSolids:o}=e,l=(0,d.k6)(),c=(0,d.TH)(),{q:p,typeExplorer:u}=e_().parse(c.search,{ignoreQueryPrefix:!0}),h=[{token:"name",values:()=>o.map(e=>e.definition.name)},{token:"job",values:()=>eq(o.map(e=>e.invocations.filter(e=>!e.pipeline.isJob).map(e=>e.pipeline.name)))},{token:"pipeline",values:()=>eq(o.map(e=>e.invocations.filter(e=>e.pipeline.isJob).map(e=>e.pipeline.name)))},{token:"input",values:()=>eq(o.map(e=>e.definition.inputDefinitions.map(e=>e.type.displayName)))},{token:"output",values:()=>eq(o.map(e=>e.definition.outputDefinitions.map(e=>e.type.displayName)))}],x=(0,eE.HE)(p||"",h),m=o.filter(e=>{for(let n of x)if(("name"===n.token||void 0===n.token)&&!e.definition.name.startsWith(n.value)||("pipeline"===n.token||"job"===n.token)&&!e.invocations.some(e=>e.pipeline.name===n.value)||"input"===n.token&&!e.definition.inputDefinitions.some(e=>e.type.displayName.startsWith(n.value))||"output"===n.token&&!e.definition.outputDefinitions.some(e=>e.type.displayName.startsWith(n.value)))return!1;return!0}),j=(0,a.useMemo)(()=>[...m].sort((e,n)=>z.Bl.compare(e.definition.name,n.definition.name)),[m]),g=o.find(e=>e.definition.name===n),f=e=>{l.replace({search:"?".concat(e_().stringify({q:(0,eE.jP)(e)}))})},y=e=>{l.replace((0,N.$U)(t,"/ops/".concat(e,"?").concat(e_().stringify({q:p}))))};a.useEffect(()=>{1!==j.length||g&&j[0]===g||y(j[0].definition.name),"string"==typeof u&&f([...x,{token:"input",value:u}])});let v=a.useCallback(e=>{let{pipelineName:n,handleID:r}=e;l.push((0,N.$U)(t,"/pipeline_or_job/".concat(n,"/").concat(r.split(".").join("/"))))},[l,t]);return(0,r.jsx)("div",{style:{height:"100%",display:"flex"},children:(0,r.jsx)(ek.O,{identifier:"ops",firstInitialPercent:40,firstMinSize:448,first:(0,r.jsxs)(eY,{children:[(0,r.jsx)(i.x,{padding:{vertical:12,horizontal:24},border:"bottom",children:(0,r.jsx)(eE.Gf,{values:x,onChange:e=>f(e),suggestionProviders:h,placeholder:"Filter by name or input/output type..."})}),(0,r.jsx)("div",{style:{flex:1,overflow:"hidden"},children:(0,r.jsx)(eK,{selected:g,onClickOp:y,items:j})})]}),second:g?(0,r.jsx)(eJ,{children:(0,r.jsx)(eD,{name:g.definition.name,onClickInvocation:v,repoAddress:t})}):(0,r.jsx)(i.x,{padding:{vertical:64},children:(0,r.jsx)(s.t,{icon:"no-results",title:"No op selected",description:"Select an op to see its definition and invocations"})})})})},eK=e=>{let{items:n,selected:t}=e,i=(0,a.useRef)(null),s=(0,I.MG)({count:n.length,getScrollElement:()=>i.current,estimateSize:()=>42,overscan:10}),o=s.getTotalSize(),l=s.getVirtualItems(),d=t?n.findIndex(e=>e===t):void 0;return(0,r.jsx)(B.W2,{ref:i,children:(0,r.jsx)(B.Nh,{$totalHeight:o,children:l.map(t=>{let{index:i,size:s,start:o}=t,l=n[i];return(0,r.jsx)(B.X2,{$height:s,$start:o,children:(0,r.jsx)(eZ,{$selected:d===i,onClick:()=>e.onClickOp(l.definition.name),children:(0,r.jsx)(eO.g,{text:l.definition.name})})},l.definition.name)})})})},eW=(0,g.Ps)(eB(),eH.C,f.B),eZ=T.ZP.div.withConfig({componentId:"sc-eb64a06a-0"})(["background:",";box-shadow:"," 4px 0 0 inset,"," 0 -1px 0 inset;color:",";cursor:pointer;font-size:14px;gap:8px;padding:12px 24px;user-select:none;overflow:hidden;white-space:nowrap;"],e=>{let{$selected:n}=e;return n?_.gJ():_.v8()},e=>{let{$selected:n}=e;return n?_.L$():"transparent"},_.wL(),e=>{let{$selected:n}=e;return n?_.Ep():_.$()}),eY=T.ZP.div.withConfig({componentId:"sc-eb64a06a-1"})(["display:flex;flex-direction:column;height:100%;"]),eX=e=>{let{repoAddress:n}=e;(0,y.Px)();let t=(0,p.Uz)(n);return(0,v.j)("Ops: ".concat(t)),(0,r.jsxs)(i.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,r.jsx)(en.h,{repoAddress:n,tab:"ops"}),(0,r.jsx)(eG,{repoAddress:n})]})};var e0=t(35002),e1=t(27028),e2=t(87209);let e4=e=>{let{repoAddress:n,schedules:t,headerCheckbox:i,checkedKeys:s,onToggleCheckFactory:o}=e,l=a.useRef(null),d=(0,I.MG)({count:t.length,getScrollElement:()=>l.current,estimateSize:()=>64,overscan:10}),c=d.getTotalSize(),p=d.getVirtualItems();return(0,r.jsx)("div",{style:{overflow:"hidden"},children:(0,r.jsxs)(B.W2,{ref:l,children:[(0,r.jsx)(e1.og,{checkbox:i}),(0,r.jsx)(B.Nh,{$totalHeight:c,children:p.map(e=>{let{index:l,key:a,size:d,start:c}=e,p=t[l],u=(0,e2.g)(n,p.name);return(0,r.jsx)(e1.iT,{name:p.name,repoAddress:n,scheduleState:p.scheduleState,checked:s.has(u),showCheckboxColumn:!!i,onToggleChecked:o(u),height:d,start:c},a)})})]})})};var e3=t(52154),e6=t(77044),e8=t(17702),e9=t(70468),e5=t(74302),e7=t(2389),ne=t(2949);function nn(){let e=(0,h._)(["\n  query WorkspaceSchedulesQuery($selector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $selector) {\n      ... on Repository {\n        id\n        name\n        schedules {\n          id\n          name\n          description\n          scheduleState {\n            id\n            ...BasicInstigationStateFragment\n          }\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"]);return nn=function(){return e},e}let nt=[],nr=e=>{let{repoAddress:n}=e;(0,y.Px)();let t=(0,el.Ux)(n),o=(0,p.Uz)(n);(0,v.j)("Schedules: ".concat(o));let l=(0,et.$)(n),[d,c]=(0,es.q)({queryKey:"search",defaults:{search:""}}),u=(0,ne.g)(),h=(0,a.useMemo)(()=>[u],[u]),{button:x,activeFiltersJsx:m}=(0,e5.m)({filters:h}),j=(0,g.aM)(ni,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,variables:{selector:l}}),{data:f,loading:b}=j,S=(0,er.C4)(j,er.dT),w=d.trim().toLocaleLowerCase(),C=w.length>0,A=(0,a.useMemo)(()=>(null==f?void 0:f.repositoryOrError.__typename)==="Repository"?f.repositoryOrError.schedules:t?t.repository.schedules:nt,[f,t]),N=nt===A,{state:P}=u,E=(0,a.useMemo)(()=>P.size?A.filter(e=>{let{scheduleState:n}=e;return P.has(n.status)}):A,[A,P]),k=(0,a.useMemo)(()=>{let e=w.toLocaleLowerCase();return E.filter(n=>{let{name:t}=n;return t.toLocaleLowerCase().includes(e)})},[E,w]),O=k.length>0,F=(0,a.useMemo)(()=>k.filter(e=>{let{scheduleState:n}=e;return(0,e6.i)(n)}),[k]),I=(0,a.useMemo)(()=>F.map(e=>{let{name:t}=e;return(0,e2.g)(n,t)}),[F,n]),[{checkedIds:T},{onToggleFactory:M,onToggleAll:z}]=(0,e3.a)(I),U=(0,a.useMemo)(()=>F.filter(e=>{let{name:t}=e;return T.has((0,e2.g)(n,t))}).map(e=>{let{name:t,scheduleState:r}=e;return{repoAddress:n,scheduleName:t,scheduleState:r}}),[F,T,n]),L=I.length,D=T.size,V=I.length>0,J=b&&!f;return(0,r.jsxs)(i.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,r.jsx)(en.h,{repoAddress:n,tab:"schedules",refreshState:S}),(0,r.jsxs)(i.x,{padding:{horizontal:24,vertical:16},flex:{justifyContent:"space-between"},children:[(0,r.jsxs)(i.x,{flex:{direction:"row",gap:12},children:[x,(0,r.jsx)($.oi,{icon:"search",value:d,onChange:e=>{c(e.target.value),z(!1)},placeholder:"Filter by schedule name…",style:{width:"340px"},rightElement:J?(0,r.jsx)(ew.W,{tooltipContent:"Loading schedules…"}):void 0})]}),(0,r.jsx)(e0.u,{content:"You do not have permission to start or stop these schedules",canShow:O&&!V,placement:"top-end",useDisabledButtonTooltipFix:!0,children:(0,r.jsx)(e9._,{schedules:U,onDone:()=>S.refetch()})})]}),m.length?(0,r.jsx)(i.x,{padding:{vertical:8,horizontal:24},border:"top-and-bottom",flex:{direction:"row",gap:8},children:m}):null,N&&!f?(0,r.jsx)(i.x,{padding:64,children:(0,r.jsx)(R.$,{purpose:"page"})}):N&&!f?(0,r.jsx)(i.x,{flex:{direction:"row",justifyContent:"center"},style:{paddingTop:"100px"},children:(0,r.jsxs)(i.x,{flex:{direction:"row",alignItems:"center",gap:16},children:[(0,r.jsx)(R.$,{purpose:"body-text"}),(0,r.jsx)("div",{style:{color:_.$()},children:"Loading schedules…"})]})}):k.length?(0,r.jsx)(e4,{repoAddress:n,schedules:k,headerCheckbox:V?(0,r.jsx)(e7.W,{checkedCount:D,totalCount:L,onToggleAll:z}):void 0,checkedKeys:T,onToggleCheckFactory:M}):C?(0,r.jsx)(i.x,{padding:{top:20},children:(0,r.jsx)(s.t,{icon:"search",title:"No matching schedules",description:(0,r.jsxs)("div",{children:["No schedules matching ",(0,r.jsx)("strong",{children:d})," were found in ",o]})})}):(0,r.jsx)(i.x,{padding:{top:20},children:(0,r.jsx)(s.t,{icon:"search",title:"No schedules",description:"No schedules were found in ".concat(o)})})]})},ni=(0,g.Ps)(nn(),e8.i,f.B);var ns=t(53029),no=t(40389);let nl=e=>{let{repoAddress:n,sensors:t,headerCheckbox:i,checkedKeys:s,onToggleCheckFactory:o}=e,l=a.useRef(null),d=(0,I.MG)({count:t.length,getScrollElement:()=>l.current,estimateSize:()=>64,overscan:10}),c=d.getTotalSize(),p=d.getVirtualItems();return(0,r.jsx)("div",{style:{overflow:"hidden"},children:(0,r.jsxs)(B.W2,{ref:l,children:[(0,r.jsx)(ns.KF,{checkbox:i}),(0,r.jsx)(B.Nh,{$totalHeight:c,children:p.map(e=>{let{index:l,key:a,size:d,start:c}=e,p=t[l],u=(0,no.x)(n,p.name);return(0,r.jsx)(ns.Rx,{name:p.name,repoAddress:n,sensorState:p.sensorState,checked:s.has(u),showCheckboxColumn:!!i,onToggleChecked:o(u),height:d,start:c},a)})})]})})};var na=t(64265);function nd(){let e=(0,h._)(["\n  query WorkspaceSensorsQuery($selector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $selector) {\n      ... on Repository {\n        id\n        name\n        sensors {\n          id\n          name\n          description\n          sensorState {\n            id\n            ...BasicInstigationStateFragment\n          }\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"]);return nd=function(){return e},e}let nc=[],np=e=>{let{repoAddress:n}=e;(0,y.Px)();let t=(0,el.Ux)(n),o=(0,p.Uz)(n);(0,v.j)("Sensors: ".concat(o));let l=(0,et.$)(n),[d,c]=(0,es.q)({queryKey:"search",defaults:{search:""}}),u=(0,ne.g)(),h=(0,a.useMemo)(()=>[u],[u]),{button:x,activeFiltersJsx:m}=(0,e5.m)({filters:h}),j=(0,g.aM)(nu,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,variables:{selector:l}}),{data:f,loading:b}=j,S=(0,er.C4)(j,er.dT),w=d.trim().toLocaleLowerCase(),C=w.length>0,A=(0,a.useMemo)(()=>(null==f?void 0:f.repositoryOrError.__typename)==="Repository"?f.repositoryOrError.sensors:t?t.repository.sensors:nc,[t,f]),N=nc===A,{state:P}=u,E=(0,a.useMemo)(()=>P.size?A.filter(e=>{let{sensorState:n}=e;return P.has(n.status)}):A,[A,P]),k=(0,a.useMemo)(()=>{let e=w.toLocaleLowerCase();return E.filter(n=>{let{name:t}=n;return t.toLocaleLowerCase().includes(e)})},[E,w]),O=k.length>0,F=(0,a.useMemo)(()=>k.filter(e=>{let{sensorState:n}=e;return(0,e6.i)(n)}),[k]),I=(0,a.useMemo)(()=>F.map(e=>{let{name:t}=e;return(0,no.x)(n,t)}),[F,n]),[{checkedIds:T},{onToggleFactory:M,onToggleAll:z}]=(0,e3.a)(I),U=(0,a.useMemo)(()=>F.filter(e=>{let{name:t}=e;return T.has((0,no.x)(n,t))}).map(e=>{let{name:t,sensorState:r}=e;return{repoAddress:n,sensorName:t,sensorState:r}}),[F,T,n]),L=I.length,D=T.size,V=I.length>0,J=b&&!f;return(0,r.jsxs)(i.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,r.jsx)(en.h,{repoAddress:n,tab:"sensors",refreshState:S}),(0,r.jsxs)(i.x,{padding:{horizontal:24,vertical:16},flex:{justifyContent:"space-between"},children:[(0,r.jsxs)(i.x,{flex:{direction:"row",gap:12},children:[x,(0,r.jsx)($.oi,{icon:"search",value:d,onChange:e=>c(e.target.value),placeholder:"Filter by sensor name…",style:{width:"340px"},rightElement:J?(0,r.jsx)(ew.W,{tooltipContent:"Loading sensors…"}):void 0})]}),(0,r.jsx)(e0.u,{content:"You do not have permission to start or stop these sensors",canShow:O&&!V,placement:"top-end",useDisabledButtonTooltipFix:!0,children:(0,r.jsx)(na.b,{sensors:U,onDone:()=>S.refetch()})})]}),m.length?(0,r.jsx)(i.x,{padding:{vertical:8,horizontal:24},border:"top-and-bottom",flex:{direction:"row",gap:8},children:m}):null,N&&!f?(0,r.jsx)(i.x,{padding:64,children:(0,r.jsx)(R.$,{purpose:"page"})}):N&&!f?(0,r.jsx)(i.x,{flex:{direction:"row",justifyContent:"center"},style:{paddingTop:"100px"},children:(0,r.jsxs)(i.x,{flex:{direction:"row",alignItems:"center",gap:16},children:[(0,r.jsx)(R.$,{purpose:"body-text"}),(0,r.jsx)("div",{style:{color:_.$()},children:"Loading sensors…"})]})}):k.length?(0,r.jsx)(nl,{repoAddress:n,sensors:k,headerCheckbox:V?(0,r.jsx)(e7.W,{checkedCount:D,totalCount:L,onToggleAll:z}):void 0,checkedKeys:T,onToggleCheckFactory:M}):C?(0,r.jsx)(i.x,{padding:{top:20},children:(0,r.jsx)(s.t,{icon:"search",title:"No matching sensors",description:(0,r.jsxs)("div",{children:["No sensors matching ",(0,r.jsx)("strong",{children:d})," were found in ",o]})})}):(0,r.jsx)(i.x,{padding:{top:20},children:(0,r.jsx)(s.t,{icon:"search",title:"No sensors",description:"No sensors were found in ".concat(o)})})]})},nu=(0,g.Ps)(nd(),e8.i,f.B);var nh=t(4199),nx=t(49438),nm=t(17872),nj=t(49308),ng=t(73407),nf=t(54044),ny=t(7533),nv=t(39268),nb=t(71348);let nS=()=>{let{paused:e}=(0,nb.dx)();return(0,r.jsx)(e0.u,{content:e?"Auto-materializing is paused. New materializations will not be triggered by auto-materialization policies.":"",canShow:e,children:(0,r.jsx)(c.rU,{to:"/health",style:{outline:"none"},children:(0,r.jsx)(j.V,{icon:e?"toggle_off":"toggle_on",intent:e?"warning":"success",children:e?"Auto-materialize off":"Auto-materialize on"})})})};var nw=t(75442),nC=t(68994),nA=t(89918),nN=t(72447);function nP(){let e=(0,h._)(["\n  query AssetGroupMetadataQuery($selector: AssetGroupSelector!) {\n    assetNodes(group: $selector) {\n      id\n      autoMaterializePolicy {\n        __typename\n      }\n    }\n  }\n"]);return nP=function(){return e},e}let nE=e=>{let{repoAddress:n,tab:t}=e;(0,y.Px)();let{groupName:s,0:o}=(0,d.UO)(),l=(0,d.k6)();(0,v.j)("Asset Group: ".concat(s));let c=(0,N.$U)(n,"/asset-groups/".concat(s)),p=(0,a.useMemo)(()=>({groupName:s,repositoryLocationName:n.location,repositoryName:n.name}),[s,n]),u=(0,a.useCallback)((e,n)=>{l[n]({pathname:"".concat(c,"/").concat((0,C.gY)(e)),search:l.location.search})},[c,l]),h=(0,a.useCallback)((e,n)=>{let t;t=n.groupName&&n.repoAddress?(0,N.$U)(n.repoAddress,"/asset-groups/".concat(n.groupName,"/lineage/").concat(n.assetKey.path.map(encodeURIComponent).join("/"))):(0,nw.p)(n.assetKey,{view:"definition"}),e.metaKey?window.open(t,"_blank"):l.push(t)},[l]),j=a.useMemo(()=>({groupSelector:p}),[p]),g=a.useMemo(()=>({preferAssetRendering:!0,explodeComposites:!0}),[]);return(0,r.jsxs)(nj.T,{style:{display:"flex",flexDirection:"column",paddingBottom:0},children:[(0,r.jsx)(x.m,{title:(0,r.jsx)(m.X6,{children:s}),right:(0,r.jsx)(nN.i,{label:"Reload definitions"}),tags:(0,r.jsx)(nO,{groupSelector:p,repoAddress:n}),tabs:(0,r.jsxs)(i.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"center"},margin:{right:4},children:[(0,r.jsxs)(ng.mQ,{selectedTabId:t,children:[(0,r.jsx)(nA.f,{id:"lineage",title:"Lineage",to:"".concat(c,"/lineage")}),(0,r.jsx)(nA.f,{id:"list",title:"List",to:"".concat(c,"/list")})]}),(0,r.jsx)(nf.wP,{})]})}),"lineage"===t?(0,r.jsx)(nC.OK,{fetchOptions:j,options:g,explorerPath:(0,C.p3)(o||"lineage/"),onChangeExplorerPath:u,onNavigateToSourceAssetNode:h}):(0,r.jsx)(ny.fv,{groupSelector:p,prefixPath:o.split("/").map(decodeURIComponent).filter(Boolean),setPrefixPath:e=>l.push("".concat(c,"/list/").concat(e.map(encodeURIComponent).join("/")))})]})},nk=(0,g.Ps)(nP()),nO=e=>{let{repoAddress:n,groupSelector:t}=e,i=(0,nv.I)(),{data:s}=(0,g.aM)(nk,{variables:{selector:t}});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(j.V,{icon:"asset_group",children:["Asset Group in ",(0,r.jsx)(b.b,{repoAddress:n})]}),(()=>{let e=null==s?void 0:s.assetNodes;return e&&0!==e.length&&"has-global-amp"===i&&e.some(e=>!!e.autoMaterializePolicy)?(0,r.jsx)(nS,{}):null})()]})},nR=e=>{let{repoAddress:n,selectedTab:t}=e;return(0,r.jsxs)(ng.mQ,{selectedTabId:t,children:[(0,r.jsx)(nA.f,{id:"overview",title:"Overview",to:(0,N.$U)(n,"/")}),(0,r.jsx)(nA.f,{id:"definitions",title:"Definitions",to:(0,N.$U)(n,"/definitions")})]})},n_=e=>{let{items:n,placeholder:t,nameFilter:s,renderRow:o}=e,[l,d]=(0,a.useState)(""),c=(0,a.useCallback)(e=>{d(e.target.value)},[]),p=l.trim().toLowerCase(),u=n.filter(e=>s(e,p)),h=(0,a.useRef)(null),x=(0,I.MG)({count:u.length,getScrollElement:()=>h.current,estimateSize:()=>44,overscan:10}),m=x.getTotalSize(),j=x.getVirtualItems();return(0,r.jsxs)(i.x,{flex:{direction:"column"},style:{overflow:"hidden"},children:[(0,r.jsx)(i.x,{padding:{vertical:8,horizontal:24},children:(0,r.jsx)($.oi,{value:l,onChange:c,placeholder:t,style:{width:"300px"},icon:"search"})}),(0,r.jsx)("div",{style:{flex:1,overflow:"hidden"},children:(0,r.jsxs)(B.W2,{ref:h,children:[(0,r.jsx)(B.VJ,{templateColumns:"1fr",sticky:!0,children:(0,r.jsx)(B.qN,{children:"Name"})}),(0,r.jsx)(B.Nh,{$totalHeight:m,children:j.map(e=>{let{index:n,key:t,size:i,start:s}=e,l=u[n];return(0,r.jsx)(B.X2,{$height:i,$start:s,children:o(l)},t)})})]})})]})},n$=e=>{let{iconName:n,label:t,path:s}=e;return(0,r.jsx)(i.x,{padding:{horizontal:24},border:"bottom",flex:{direction:"column",justifyContent:"center",alignItems:"flex-start"},style:{height:44,overflow:"hidden"},children:(0,r.jsx)(nF,{to:s,style:{width:"100%",overflow:"hidden"},children:(0,r.jsxs)(i.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,r.jsx)(F.JO,{name:n,color:_.Es()}),(0,r.jsx)("div",{style:{flex:1,overflow:"hidden"},children:(0,r.jsx)(eO.g,{text:t})})]})})})},nF=(0,T.ZP)(c.rU).withConfig({componentId:"sc-a11d9b56-0"})([":active,:focus{outline:none;}"]),nI=e=>{let{repoAddress:n}=e,[t,l]=(0,a.useState)(""),d=(0,p.Uz)(n),c=(0,et.$)(n),{data:u,loading:h}=(0,g.aM)(ee,{variables:{selector:c}}),x=(0,a.useMemo)(()=>(null==u?void 0:u.repositoryOrError.__typename)==="Repository"?u.repositoryOrError.assetNodes:[],[u]),m=(0,ei.f)(t,x),{flattened:j,expandedKeys:f,onToggle:y}=H({repoAddress:n,assets:m}),v=(0,a.useCallback)(e=>{l(e.target.value)},[]),b=(0,a.useRef)(null),S=(0,I.MG)({count:j.length,getScrollElement:()=>b.current,estimateSize:()=>44,overscan:10}),w=S.getTotalSize(),C=S.getVirtualItems();return(0,r.jsxs)(i.x,{flex:{direction:"column"},style:{overflow:"hidden"},children:[(0,r.jsx)(i.x,{padding:{vertical:8,horizontal:24},children:(0,r.jsx)($.oi,{value:t,onChange:v,placeholder:"Search assets by key…",style:{width:"300px"},icon:"search"})}),(0,r.jsx)("div",{style:{flex:1,overflow:"hidden"},children:h&&!u?(0,r.jsx)(i.x,{flex:{direction:"row",justifyContent:"center"},padding:32,children:(0,r.jsx)(o.f,{label:"Loading assets…"})}):m.length?(0,r.jsxs)(B.W2,{ref:b,children:[(0,r.jsx)(B.VJ,{templateColumns:"1fr",sticky:!0,children:(0,r.jsx)(B.qN,{children:"Name"})}),(0,r.jsx)(B.Nh,{$totalHeight:w,children:C.map(e=>{let{index:n,key:t,size:i,start:s}=e,o=j[n];if("group"===o.type)return(0,r.jsx)(nT,{height:i,start:s,expanded:f.has(o.name),groupName:o.name,assetCount:o.assetCount,onToggle:y},t);let{path:l}=o.definition.assetKey;return(0,r.jsx)(B.X2,{$height:i,$start:s,children:(0,r.jsx)(n$,{iconName:"asset",label:(0,U.ll)({path:l}),path:(0,nw.p)({path:l})})},t)})})]}):t.trim().length>0?(0,r.jsx)(i.x,{padding:{top:20},children:(0,r.jsx)(s.t,{icon:"search",title:"No matching assets",description:(0,r.jsxs)("div",{children:["No assets matching ",(0,r.jsx)("strong",{children:t})," were found in ",d]})})}):(0,r.jsx)(i.x,{padding:{top:20},children:(0,r.jsx)(s.t,{icon:"search",title:"No assets",description:"No assets were found in ".concat(d)})})})]})},nT=e=>{let{groupName:n,assetCount:t,expanded:s,height:o,start:l,onToggle:a}=e;return(0,r.jsx)(nM,{$height:o,$start:l,onClick:()=>a(n),$open:s,tabIndex:0,onKeyDown:e=>{("Space"===e.code||"Enter"===e.code)&&(e.preventDefault(),a(n))},children:(0,r.jsxs)(i.x,{background:_.gJ(),flex:{direction:"row",alignItems:"center",gap:8,justifyContent:"space-between"},padding:{horizontal:24},border:"bottom",style:{height:"100%"},children:[(0,r.jsxs)(i.x,{flex:{alignItems:"center",gap:8},children:[(0,r.jsx)(F.JO,{name:"asset_group"}),"UNGROUPED"===n?(0,r.jsx)("div",{children:"Ungrouped assets"}):(0,r.jsx)("strong",{children:n})]}),(0,r.jsxs)(i.x,{flex:{direction:"row",alignItems:"center",gap:12},children:[(0,r.jsx)(j.V,{children:1===t?"1 asset":"".concat(t," assets")}),(0,r.jsx)(F.JO,{name:"arrow_drop_down",size:20})]})]})})},nM=(0,T.ZP)(B.X2).withConfig({componentId:"sc-ba960fa3-0"})(["cursor:pointer;:focus,:active{outline:none;}",'[aria-label="arrow_drop_down"]{transition:transform 100ms linear;',"}"],F.a1,e=>{let{$open:n}=e;return n?null:"transform: rotate(-90deg);"});var nz=t(23399);let nU=e=>{let{repoAddress:n}=e,t=(0,et.$)(n),{data:l,loading:d}=(0,g.aM)(eg,{variables:{selector:t}}),c=(0,a.useMemo)(()=>{let e=null==l?void 0:l.repositoryOrError;return e&&"Repository"===e.__typename?ef(e):[]},[l]),u=(0,p.Uz)(n);return d?(0,r.jsx)(i.x,{padding:64,flex:{direction:"row",justifyContent:"center"},children:(0,r.jsx)(o.f,{label:"Loading graphs…"})}):l&&l.repositoryOrError?"PythonError"===l.repositoryOrError.__typename?(0,r.jsx)(i.x,{padding:64,children:(0,r.jsx)(nz.T9,{error:l.repositoryOrError})}):"RepositoryNotFoundError"===l.repositoryOrError.__typename?(0,r.jsx)(i.x,{padding:64,children:(0,r.jsx)(s.t,{icon:"op",title:"Repository not found",description:"The repository ".concat(u," could not be found in this workspace.")})}):c.length?(0,r.jsx)(n_,{items:c,placeholder:"Search graphs by name…",nameFilter:(e,n)=>e.name.toLowerCase().includes(n),renderRow:e=>(0,r.jsx)(n$,{iconName:"graph",label:e.name,path:(0,N.$U)(n,e.path)})}):(0,r.jsx)(i.x,{padding:64,children:(0,r.jsx)(s.t,{icon:"graph",title:"No graphs found",description:"The repository ".concat(u," does not contain any graphs.")})}):(0,r.jsx)(i.x,{padding:64,children:(0,r.jsx)(s.t,{icon:"graph",title:"An unexpected error occurred",description:"An error occurred while loading graphs for ".concat(u)})})},nL=e=>{let{repoAddress:n}=e,{name:t}=(0,d.UO)(),l=(0,et.$)(n),{data:a,loading:c}=(0,g.aM)(eW,{variables:{repositorySelector:l}}),u=(0,p.Uz)(n);if(c)return(0,r.jsx)(i.x,{padding:64,flex:{direction:"row",justifyContent:"center"},children:(0,r.jsx)(o.f,{label:"Loading ops…"})});if(!a||!a.repositoryOrError)return(0,r.jsx)(i.x,{padding:64,children:(0,r.jsx)(s.t,{icon:"op",title:"An unexpected error occurred",description:"An error occurred while loading ops for ".concat(u)})});if("PythonError"===a.repositoryOrError.__typename)return(0,r.jsx)(i.x,{padding:64,children:(0,r.jsx)(nz.T9,{error:a.repositoryOrError})});if("RepositoryNotFoundError"===a.repositoryOrError.__typename)return(0,r.jsx)(i.x,{padding:64,children:(0,r.jsx)(s.t,{icon:"op",title:"Repository not found",description:"The repository ".concat(u," could not be found in this workspace.")})});let{repositoryOrError:h}=a,{usedSolids:x}=h;return x.length?(0,r.jsx)(eQ,{name:t,repoAddress:n,usedSolids:x}):(0,r.jsx)(i.x,{padding:64,children:(0,r.jsx)(s.t,{icon:"op",title:"No ops found",description:"The repository ".concat((0,p.Uz)(n)," does not contain any ops.")})})},nD=e=>{let{repoAddress:n,repository:t}=e;return(0,r.jsx)(i.x,{flex:{direction:"column",alignItems:"stretch"},style:{flex:1,overflow:"hidden"},children:(0,r.jsxs)(d.rs,{children:[(0,r.jsx)(nm.A,{path:"/locations/:repoPath/assets",children:(0,r.jsx)(nI,{repoAddress:n})}),(0,r.jsx)(nm.A,{path:"/locations/:repoPath/jobs",children:(0,r.jsx)(nV,{repoAddress:n,repository:t})}),(0,r.jsx)(nm.A,{path:"/locations/:repoPath/sensors",children:(0,r.jsx)(nJ,{repoAddress:n,repository:t})}),(0,r.jsx)(nm.A,{path:"/locations/:repoPath/schedules",children:(0,r.jsx)(nH,{repoAddress:n,repository:t})}),(0,r.jsx)(nm.A,{path:"/locations/:repoPath/resources",children:(0,r.jsx)(nB,{repoAddress:n,repository:t})}),(0,r.jsx)(nm.A,{path:"/locations/:repoPath/graphs",children:(0,r.jsx)(nU,{repoAddress:n})}),(0,r.jsx)(nm.A,{path:"/locations/:repoPath/ops",children:(0,r.jsx)(nL,{repoAddress:n})})]})})},nV=e=>{let{repoAddress:n,repository:t}=e,i=(0,a.useMemo)(()=>t.pipelines.filter(e=>{let{name:n}=e;return!(0,U.pv)(n)}).sort((e,n)=>z.Bl.compare(e.name,n.name)),[t]);return(0,r.jsx)(n_,{items:i,placeholder:"Search jobs by name…",nameFilter:(e,n)=>e.name.toLowerCase().includes(n),renderRow:e=>(0,r.jsx)(n$,{iconName:"job",label:e.name,path:(0,N.$U)(n,"/jobs/".concat(e.name))})})},nJ=e=>{let{repoAddress:n,repository:t}=e,i=(0,a.useMemo)(()=>[...t.sensors].sort((e,n)=>z.Bl.compare(e.name,n.name)),[t]);return(0,r.jsx)(n_,{items:i,placeholder:"Search sensors by name…",nameFilter:(e,n)=>e.name.toLowerCase().includes(n),renderRow:e=>(0,r.jsx)(n$,{iconName:"sensors",label:e.name,path:(0,N.$U)(n,"/sensors/".concat(e.name))})})},nH=e=>{let{repoAddress:n,repository:t}=e,i=(0,a.useMemo)(()=>[...t.schedules].sort((e,n)=>z.Bl.compare(e.name,n.name)),[t]);return(0,r.jsx)(n_,{items:i,placeholder:"Search schedules by name…",nameFilter:(e,n)=>e.name.toLowerCase().includes(n),renderRow:e=>(0,r.jsx)(n$,{iconName:"schedule",label:e.name,path:(0,N.$U)(n,"/schedules/".concat(e.name))})})},nB=e=>{let{repoAddress:n,repository:t}=e,i=(0,a.useMemo)(()=>[...t.allTopLevelResourceDetails].sort((e,n)=>z.Bl.compare(e.name,n.name)),[t]);return(0,r.jsx)(n_,{items:i,placeholder:"Search resoruces by name…",nameFilter:(e,n)=>e.name.toLowerCase().includes(n),renderRow:e=>(0,r.jsx)(n$,{iconName:"resource",label:e.name,path:(0,N.$U)(n,"/resources/".concat(e.name))})})};var nq=t(91319),nG=t(70812);let nQ=e=>{let{repoAddress:n,repository:t}=e,{pathname:s}=(0,d.TH)(),o=t.pipelines.filter(e=>{let{name:n}=e;return!(0,U.pv)(n)}).length,l=t.schedules.length,a=t.sensors.length,c=t.allTopLevelResourceDetails.length,p=[{key:"assets",type:"link",icon:(0,r.jsx)(F.JO,{name:"asset"}),label:"Assets",path:(0,N.$U)(n,"/assets")},{key:"jobs",type:"link",icon:(0,r.jsx)(F.JO,{name:"job"}),label:"Jobs",path:(0,N.$U)(n,"/jobs"),rightElement:o?(0,r.jsx)(j.V,{children:nG.V.format(o)}):null},{key:"sensors",type:"link",icon:(0,r.jsx)(F.JO,{name:"sensors"}),label:"Sensors",path:(0,N.$U)(n,"/sensors"),rightElement:a?(0,r.jsx)(j.V,{children:nG.V.format(a)}):null},{key:"schedules",type:"link",icon:(0,r.jsx)(F.JO,{name:"schedule"}),label:"Schedules",path:(0,N.$U)(n,"/schedules"),rightElement:l?(0,r.jsx)(j.V,{children:nG.V.format(l)}):null},{key:"resources",type:"link",icon:(0,r.jsx)(F.JO,{name:"resource"}),label:"Resources",path:(0,N.$U)(n,"/resources"),rightElement:c?(0,r.jsx)(j.V,{children:nG.V.format(c)}):null},{key:"graphs",type:"link",icon:(0,r.jsx)(F.JO,{name:"graph"}),label:"Graphs",path:(0,N.$U)(n,"/graphs")},{key:"ops",type:"link",icon:(0,r.jsx)(F.JO,{name:"op"}),label:"Ops",path:(0,N.$U)(n,"/ops")}];return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.x,{padding:{bottom:12},children:p.map(e=>(0,r.jsx)(nq.y,{item:e,active:"link"===e.type&&s===e.path},e.key))})})},nK=e=>{let{repoAddress:n}=e;return(0,r.jsx)(x.m,{title:(0,r.jsx)(m.X6,{children:(0,r.jsxs)(i.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,r.jsx)("div",{children:(0,r.jsx)(c.rU,{to:"/locations",children:"Code locations"})}),(0,r.jsx)("div",{children:"/"}),(0,r.jsx)("div",{children:(0,p.Uz)(n)})]})})})},nW=e=>{let{repoAddress:n,repository:t}=e;return(0,r.jsxs)(i.x,{style:{height:"100%",overflow:"hidden"},flex:{direction:"column"},children:[(0,r.jsx)(nK,{repoAddress:n}),(0,r.jsx)(i.x,{padding:{horizontal:24},border:"bottom",children:(0,r.jsx)(nR,{selectedTab:"definitions",repoAddress:n})}),(0,r.jsxs)(i.x,{style:{overflow:"hidden"},flex:{direction:"row",grow:1},children:[(0,r.jsx)(i.x,{style:{flex:"0 0 292px",overflowY:"auto"},padding:{vertical:16,horizontal:12},border:"right",children:(0,r.jsx)(nQ,{repoAddress:n,repository:t})}),(0,r.jsx)(i.x,{flex:{direction:"column",alignItems:"stretch"},style:{flex:1,overflow:"hidden"},children:(0,r.jsx)(nD,{repoAddress:n,repository:t})})]})]})};var nZ=t(1747),nY=t(74188),nX=t(20156);let n0=()=>(0,r.jsx)(r.Fragment,{});var n1=t(45984);let n2=e=>{let{label:n,border:t=null}=e;return(0,r.jsx)(i.x,{background:_.gJ(),border:t,padding:{horizontal:24,vertical:8},children:(0,r.jsx)(m.pm,{children:n})})};var n4=t(35599),n3=t(12576);let n6="280px",n8=e=>{let{repoAddress:n,locationStatus:t,locationEntry:s}=e,{displayMetadata:o}=s,l=(0,a.useMemo)(()=>({image:o.find(e=>{let{key:n}=e;return"image"===n})||null}),[o]),d=(0,a.useMemo)(()=>n1.Pz(Object.fromEntries(o.map(e=>{let{key:n,value:t}=e;return[n,t]}))),[o]),c=(0,a.useMemo)(()=>{var e;return(null===(e=s.locationOrLoadError)||void 0===e?void 0:e.__typename)==="RepositoryLocation"?s.locationOrLoadError.dagsterLibraryVersions:null},[s]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(nK,{repoAddress:n}),(0,r.jsx)(i.x,{padding:{horizontal:24},border:"bottom",children:(0,r.jsx)(nR,{selectedTab:"overview",repoAddress:n})}),(0,r.jsx)(n2,{label:"Details"}),(0,r.jsx)(nZ.i,{style:{width:"100%",tableLayout:"fixed"},children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{style:{width:n6,minWidth:n6,verticalAlign:"middle"},children:"Status"}),(0,r.jsx)("td",{children:(0,r.jsx)(n3._y,{locationStatus:t,locationOrError:s})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Updated"}),(0,r.jsx)("td",{children:(0,r.jsx)("div",{style:{whiteSpace:"nowrap"},children:(0,r.jsx)(n4.C,{unixTimestamp:t.updateTimestamp})})})]}),l.image?(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Image"}),(0,r.jsx)("td",{style:{fontFamily:nY.b.monospace},children:(0,r.jsx)(eO.g,{text:l.image.value})})]}):null]})}),(0,r.jsx)(n0,{}),(null==c?void 0:c.length)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n2,{label:"Libraries"}),(0,r.jsx)(nZ.i,{children:(0,r.jsx)("tbody",{children:c.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{style:{width:n6},children:(0,r.jsx)(m.fv,{children:e.name})}),(0,r.jsx)("td",{children:(0,r.jsx)(m.fv,{children:e.version})})]},e.name))})})]}):null,(0,r.jsx)(n2,{label:"Metadata",border:"bottom"}),(0,r.jsx)(n5,{}),(0,r.jsx)("div",{style:{height:"320px"},children:(0,r.jsx)(nX.u,{options:{readOnly:!0,lineNumbers:!1},theme:["code-location-metadata"],value:d})})]})};var n9=e=>{let{repoAddress:n}=e,{locationEntries:t,locationStatuses:s,loading:l}=(0,a.useContext)(el.C5),d=t.find(e=>e.name===n.location),c=s[n.location];if(!d||!c){let e=(0,p.Uz)(n);return l?(0,r.jsx)(i.x,{padding:64,flex:{direction:"row",justifyContent:"center"},children:(0,r.jsx)(o.f,{label:"Loading ".concat(e,"…")})}):(0,r.jsx)(i.x,{padding:64,flex:{direction:"row",justifyContent:"center"},children:(0,r.jsx)(u,{repoAddress:n})})}return(0,r.jsx)(n8,{repoAddress:n,locationEntry:d,locationStatus:c})};let n5=(0,T.vJ)([".CodeMirror.cm-s-code-location-metadata.cm-s-code-location-metadata{background-color:",";padding:12px 20px;height:300px;}"],_.v8());var n7=t(96011),te=t(36803);let tn=e=>{let{repoAddress:n}=e,t=(0,d.TH)(),{pipelinePath:i}=(0,d.UO)(),{loading:s}=(0,a.useContext)(el.C5),{loading:o}=(0,a.useContext)(te.IT),l=(0,el.Ux)(n);if((0,eS.j$)("Workspace",s),(0,eS.j$)("Permissions",o),s||o)return null;let{pipelineName:c}=(0,C.p3)(i),p=(0,el.E8)(l,c),{pathname:u,search:h}=t,x=u.replace("/pipeline_or_job/",p?"/jobs/":"/pipelines/");return(0,r.jsx)(d.l_,{to:"".concat(x).concat(h)})};var tt=t(21473),tr=t(46352),ti=t(62233),ts=t(28025),to=t(1040),tl=t(76016);function ta(){let e=(0,h._)(["\n  query ConfigForRunQuery($runId: ID!) {\n    runOrError(runId: $runId) {\n      ... on Run {\n        id\n        mode\n        runConfigYaml\n        solidSelection\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"]);return ta=function(){return e},e}let td=e=>{let{repoAddress:n}=e,{permissions:{canLaunchPipelineExecution:t},loading:i}=(0,te.xz)(n.location),{repoPath:s,pipelinePath:o,runId:l}=(0,d.UO)();return((0,eS.j$)("Permissions",i),i)?null:t?(0,r.jsx)(tc,{pipelinePath:o,repoAddress:n,runId:l}):(0,r.jsx)(d.l_,{to:"/locations/".concat(s,"/pipeline_or_job/").concat(o)})},tc=e=>{let{pipelinePath:n,repoAddress:t,runId:i}=e,s=(0,C.p3)(n),{pipelineName:o}=s,l=(0,el.Ux)(t),a=(0,el.E8)(l,o);(0,tl.b)(s,a);let[c,p]=(0,to.aC)(t,o),{data:u,loading:h}=(0,g.aM)(tp,{variables:{runId:i},onCompleted:e=>{let n=null==e?void 0:e.runOrError,t=(null==n?void 0:n.__typename)==="Run"?n:null;if(!t)return;let{runConfigYaml:r,mode:i,solidSelection:s}=t;if(!r&&!i&&!s)return;let o={name:"From run ".concat(t.id.slice(0,8))};"string"==typeof r&&(o.runConfigYaml=r),"string"==typeof i&&(o.mode=i);let l=null;s instanceof Array&&s.length>0?l=s:"string"==typeof s&&s&&(l=[s]),o.solidSelection=l,o.solidSelectionQuery=l?l.join(","):"*",p(e=>(0,to.f0)(e,o))}}),x=null==u?void 0:u.runOrError;return h?(0,r.jsx)(ts.m,{}):x&&"RunNotFoundError"!==x.__typename?"PythonError"===x.__typename?(0,r.jsx)(ti.U,{icon:"error",title:"Python error",description:x.message}):(0,r.jsx)(d.l_,{to:{pathname:(0,N.$U)(t,"/".concat(a?"jobs":"pipelines","/").concat(o,"/playground"))}}):(0,r.jsx)(ti.U,{icon:"error",title:"No run found",description:"The run with this ID does not exist or has been cleaned up."})},tp=(0,g.Ps)(ta(),f.B),tu=e=>{let{repoAddress:n}=e,{permissions:{canLaunchPipelineExecution:t},loading:i}=(0,te.xz)(n.location);(0,eS.j$)("Permissions",i);let{repoPath:s,pipelinePath:o}=(0,d.UO)();return i?null:t?(0,r.jsx)(th,{pipelinePath:o,repoAddress:n}):(0,r.jsx)(d.l_,{to:"/locations/".concat(s,"/pipeline_or_job/").concat(o)})},th=e=>{let{pipelinePath:n,repoAddress:t}=e,i=(0,C.p3)(n),{pipelineName:s}=i,o=(0,el.Ux)(t),l=(0,el.E8)(o,s);(0,tl.b)(i,l);let[c,p]=(0,to.aC)(t,s),u=e_().parse(window.location.search,{ignoreQueryPrefix:!0});return(0,a.useEffect)(()=>{if(u.config||u.mode||u.solidSelection||u.tags||u.assetSelection){let e={};"string"==typeof u.config&&(e.runConfigYaml=u.config),"string"==typeof u.mode&&(e.mode=u.mode),u.solidSelection instanceof Array&&u.solidSelection.length>0?e.solidSelection=u.solidSelection:"string"==typeof u.solidSelection&&u.solidSelection&&(e.solidSelection=[u.solidSelection]),"string"==typeof u.solidSelectionQuery&&(e.solidSelectionQuery=u.solidSelectionQuery),Array.isArray(u.tags)&&(e.tags=u.tags),Array.isArray(u.assetSelection)&&(e.assetSelection=u.assetSelection),p(n=>(0,to.f0)(n,e))}}),(0,r.jsx)(d.l_,{to:{pathname:(0,N.$U)(t,"/".concat(l?"jobs":"pipelines","/").concat(s,"/playground"))}})};var tx=t(89891),tm=t(92506),tj=t(38491),tg=t(75652),tf=t.n(tg),ty=t(90441),tv=t(88257),tb=t(54516),tS=t(43984),tw=t(68283),tC=t(33182),tA=t(86269);function tN(){let e=(0,h._)(["\n  query LatestRunTagQuery($runsFilter: RunsFilter) {\n    pipelineRunsOrError(filter: $runsFilter, limit: 1) {\n      ... on Runs {\n        results {\n          id\n          status\n          ...RunTimeFragment\n        }\n      }\n    }\n  }\n\n  ","\n"]);return tN=function(){return e},e}let tP={showSeconds:!0,showTimezone:!1},tE=e=>{let{pipelineName:n,repoAddress:t}=e,s=(0,g.aM)(tk,{variables:{runsFilter:{pipelineName:n,tags:[{key:tS.H.RepositoryLabelTag,value:(0,p.Wg)(t)}]}},notifyOnNetworkStatusChange:!0});(0,er.C4)(s,er.dT);let o=(0,a.useMemo)(()=>{var e;let n=null===(e=s.data)||void 0===e?void 0:e.pipelineRunsOrError;return n&&"Runs"===n.__typename&&n.results[0]||null},[s]);if(!o)return null;let l={start:o.startTime,end:o.endTime,status:o.status};return(0,r.jsx)(j.V,{intent:(()=>{switch(o.status){case tv.VOA.SUCCESS:return"success";case tv.VOA.CANCELED:case tv.VOA.CANCELING:case tv.VOA.FAILURE:return"danger";default:return"none"}})(),children:(0,r.jsxs)(i.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,r.jsx)(tb.K9,{status:o.status,size:10}),"Latest run:",l?(0,r.jsx)(e0.u,{placement:"bottom",content:(0,r.jsx)(ty.k6,{children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{style:{color:_.Aw()},children:(0,r.jsx)(i.x,{padding:{right:16},children:"Started"})}),(0,r.jsx)("td",{children:l.start?(0,r.jsx)(tA.v,{timestamp:l.start,timeFormat:tP}):(0,tw.Z0)(l.status)})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{style:{color:_.Aw()},children:"Ended"}),(0,r.jsx)("td",{children:l.end?(0,r.jsx)(tA.v,{timestamp:l.end,timeFormat:tP}):(0,tw.Z0)(l.status)})]})]})}),children:(0,r.jsx)(c.rU,{to:"/runs/".concat(o.id),children:(0,r.jsx)(tC.Zr,{run:o})})}):null]})})},tk=(0,g.Ps)(tN(),tC.$X);var tO=t(74283),tR=t(4219),t_=t(60918);function t$(){let e=(0,h._)(["\n  query JobMetadataQuery($params: PipelineSelector!, $runsFilter: RunsFilter!) {\n    pipelineOrError(params: $params) {\n      ... on Pipeline {\n        id\n        ...JobMetadataFragment\n      }\n    }\n    assetNodes(pipeline: $params) {\n      id\n      ...JobMetadataAssetNode\n    }\n    pipelineRunsOrError(filter: $runsFilter, limit: 5) {\n      ... on PipelineRuns {\n        results {\n          id\n          ...RunMetadataFragment\n        }\n      }\n    }\n  }\n\n  fragment JobMetadataAssetNode on AssetNode {\n    id\n    autoMaterializePolicy {\n      __typename\n    }\n    assetKey {\n      path\n    }\n  }\n\n  fragment JobMetadataFragment on Pipeline {\n    id\n    isJob\n    name\n    schedules {\n      id\n      mode\n      ...ScheduleSwitchFragment\n    }\n    sensors {\n      id\n      targets {\n        pipelineName\n        mode\n      }\n      ...SensorSwitchFragment\n    }\n  }\n\n  fragment RunMetadataFragment on PipelineRun {\n    id\n    status\n    assets {\n      id\n      key {\n        path\n      }\n    }\n    ...RunTimeFragment\n  }\n\n  ","\n  ","\n  ","\n"]);return t$=function(){return e},e}let tF=e=>{let{pipelineName:n,repoAddress:t}=e,i=function(e,n){let t=(0,g.aM)(tM,{variables:{runsFilter:{pipelineName:n,tags:[{key:tS.H.RepositoryLabelTag,value:(0,p.Wg)(e)}]},params:{pipelineName:n,repositoryName:e.name,repositoryLocationName:e.location}}}).data;return(0,a.useMemo)(()=>({assetNodes:(null==t?void 0:t.assetNodes)||null,job:(null==t?void 0:t.pipelineOrError)&&"Pipeline"===t.pipelineOrError.__typename?t.pipelineOrError:null,runsForAssetScan:(null==t?void 0:t.pipelineRunsOrError)&&"Runs"===t.pipelineRunsOrError.__typename?t.pipelineRunsOrError.results:[]}),[t])}(t,n);return(0,r.jsxs)(r.Fragment,{children:[i.job?(0,r.jsx)(tI,{job:i.job,repoAddress:t}):null,(0,r.jsx)(tE,{pipelineName:n,repoAddress:t}),i.assetNodes&&i.assetNodes.some(e=>!!e.autoMaterializePolicy)&&(0,r.jsx)(nS,{}),i.runsForAssetScan?(0,r.jsx)(tT,{relatedAssets:i.assetNodes?i.assetNodes.map(e=>(0,U.Je)(e.assetKey)):tf()(i.runsForAssetScan.flatMap(e=>e.assets.map(e=>(0,U.Je)(e.key))))}):null]})},tI=e=>{let{job:n,repoAddress:t}=e,i=(0,a.useMemo)(()=>(null==n?void 0:n.__typename)==="Pipeline"&&n.schedules.length?n.schedules:[],[n]),s=(0,a.useMemo)(()=>(null==n?void 0:n.__typename)==="Pipeline"&&n.sensors.length?n.sensors:[],[n]);return(0,r.jsx)(tO.I,{schedules:i,sensors:s,repoAddress:t})},tT=e=>{let{relatedAssets:n}=e,[t,s]=(0,a.useState)(!1);if(0===n.length)return null;if(1===n.length){let e=n[0];return(0,r.jsxs)(j.V,{icon:"asset",children:["Asset: ",(0,r.jsx)(c.rU,{to:"/assets/".concat(e),children:e})]})}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.V,{icon:"asset",children:(0,r.jsx)(tx.Z,{color:_.Es(),onClick:()=>s(!0),children:"View ".concat(n.length," assets")})}),(0,r.jsxs)(tm.Vq,{title:"Related assets",canOutsideClickClose:!0,canEscapeKeyClose:!0,isOpen:t,onClose:()=>s(!1),style:{maxWidth:"80%",minWidth:"500px",width:"auto"},children:[n.map((e,t)=>(0,r.jsx)(i.x,{padding:{vertical:12,horizontal:20},border:t<n.length-1?"bottom":null,children:(0,r.jsx)(c.rU,{to:"/assets/".concat(e),style:{wordBreak:"break-word"},children:e},e)},e)),(0,r.jsx)(tm.cN,{topBorder:!0,children:(0,r.jsx)(tj.zx,{intent:"primary",onClick:()=>s(!1),children:"OK"})})]})]})},tM=(0,g.Ps)(t$(),tR.J,t_.U,tC.$X);var tz=t(1790);let tU=e=>{let{repoAddress:n}=e,t=(0,te.xz)(n.location),{tabBuilder:s}=(0,a.useContext)(n7.v),o=(0,d.$B)(["/locations/:repoPath/pipelines/:selector/:tab?","/locations/:repoPath/jobs/:selector/:tab?","/locations/:repoPath/pipeline_or_job/:selector/:tab?"]),l=(0,C.p3)(o.params.selector),{pipelineName:c,snapshotId:p}=l,u=(0,el.Ux)(n),h=null==u?void 0:u.repository.pipelines.find(e=>e.name===c),g=!!(null==h?void 0:h.isJob),f=s({hasLaunchpad:!(null==h?void 0:h.isAssetJob),hasPartitionSet:((null==u?void 0:u.repository.partitionSets)||[]).some(e=>e.pipelineName===c)});return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(x.m,{title:(0,r.jsx)(m.X6,{children:c}),tags:(0,r.jsxs)(i.x,{flex:{direction:"row",alignItems:"center",gap:8,wrap:"wrap"},children:[(0,r.jsxs)(j.V,{icon:"job",children:[g?"Job in ":"Pipeline in ",(0,r.jsx)(b.b,{repoAddress:n})]}),p?null:(0,r.jsx)(tF,{pipelineName:c,repoAddress:n})]}),tabs:(0,r.jsx)(tz.IJ,{repoAddress:n,isJob:g,explorerPath:l,permissions:t,matchingTab:o.params.tab,tabs:f})})})};var tL=t(60129),tD=t(80122),tV=t(90731);function tJ(){let e=(0,h._)(["\n  query JobBackfillsQuery(\n    $partitionSetName: String!\n    $repositorySelector: RepositorySelector!\n    $cursor: String\n    $limit: Int\n  ) {\n    partitionSetOrError(\n      repositorySelector: $repositorySelector\n      partitionSetName: $partitionSetName\n    ) {\n      ... on PartitionSet {\n        id\n        pipelineName\n        backfills(cursor: $cursor, limit: $limit) {\n          id\n          ...BackfillTableFragment\n        }\n      }\n    }\n  }\n\n  ","\n"]);return tJ=function(){return e},e}let tH=e=>{let{partitionSetName:n,partitionNames:t,repositorySelector:o,refetchCounter:l}=e,[d,c]=(0,a.useState)(()=>[]),[p,u]=(0,a.useState)(),h=(0,g.aM)(tB,{variables:{partitionSetName:n,repositorySelector:o,cursor:p,limit:10}}),x=h.refetch;return(0,a.useEffect)(()=>{l&&x()},[x,l]),(0,r.jsx)(A.g,{queryResult:h,children:e=>{let{partitionSetOrError:n}=e;if("PartitionSetNotFoundError"===n.__typename)return(0,r.jsx)(i.x,{margin:{vertical:20},children:(0,r.jsx)(s.t,{title:"Partition set not found.",icon:"no-results"})});if("PythonError"===n.__typename)return(0,r.jsx)(i.x,{margin:{vertical:20},children:(0,r.jsx)(s.t,{title:"An error occurred.",icon:"no-results"})});let{backfills:o,pipelineName:l}=n;if(!o.length)return(0,r.jsx)(i.x,{margin:{vertical:20},children:(0,r.jsx)(s.t,{title:"No backfills for ".concat(l),icon:"no-results"})});let a={hasPrevCursor:!!p,hasNextCursor:o&&10===o.length,popCursor:()=>{let e=[...d];u(e.pop()),c(e)},advanceCursor:()=>{p&&c(e=>[...e,p]);let e=o&&o[o.length-1].id;e&&u(e)},reset:()=>{c([]),u(void 0)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tV.G,{backfills:o,refetch:x,showBackfillTarget:!1,allPartitions:t}),(0,r.jsx)(tD.b$,{...a})]})}})},tB=(0,g.Ps)(tJ(),tV.b);var tq=t(37504),tG=t(54048),tQ=t(90086),tK=t(67994),tW=t(77851);let tZ=e=>{let{counts:n,value:t,onChange:s,allowed:o,disabled:l}=e;return(0,r.jsx)(i.x,{flex:{direction:"row",alignItems:"center",gap:12},style:{overflow:"hidden"},children:o.map(e=>(0,r.jsx)(tq.X,{"data-testid":(0,tW.N)("run-status-".concat(e,"-checkbox")),disabled:l,style:{marginBottom:0,marginLeft:10,minWidth:200},checked:t.includes(e)&&!l,label:"".concat((0,tK.fi)(e)," (").concat(n[e],")"),onChange:()=>s(t.includes(e)?t.filter(n=>n!==e):[...t,e])},e))})};var tY=t(98832),tX=t(97803),t0=t(13549),t1=t(77432),t2=t(57755),t4=t(97145),t3=t(45546),t6=t(59867);function t8(){let e=(0,h._)(["\n  query BackfillSelectorQuery($pipelineSelector: PipelineSelector!) {\n    pipelineSnapshotOrError(activePipelineSelector: $pipelineSelector) {\n      ... on PipelineSnapshot {\n        id\n        name\n        solidHandles {\n          handleID\n          solid {\n            name\n            definition {\n              name\n            }\n            inputs {\n              dependsOn {\n                solid {\n                  name\n                }\n              }\n            }\n            outputs {\n              dependedBy {\n                solid {\n                  name\n                }\n              }\n            }\n          }\n          ...GraphExplorerSolidHandleFragment\n        }\n      }\n    }\n    instance {\n      id\n      ...UsingDefaultLauncherAlertInstanceFragment\n      ...DaemonNotRunningAlertInstanceFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return t8=function(){return e},e}let t9=e=>{let{partitionSetName:n,onLaunch:t,onCancel:o,onSubmit:l,repoAddress:c,runStatusData:p,refreshing:u,pipelineName:h,partitionNames:x}=e,j=(0,d.k6)(),[f,y]=a.useState(Object.keys(p).filter(e=>!p[e]||p[e]===tv.VOA.FAILURE)),[v,b]=a.useState([tv.VOA.NOT_STARTED,tv.VOA.FAILURE]),w=a.useMemo(()=>f.filter(e=>v.includes(p[e])),[f,v,p]),[C,A]=a.useState(!1),[N,P]=a.useState([]),[E,k]=a.useState(""),[O,$]=a.useState({reexecute:!1,fromFailure:!1}),I=(0,et.$)(c),{data:T}=(0,g.aM)(t7,{variables:{pipelineSelector:{...I,pipelineName:h}},fetchPolicy:"network-only"}),M=a.useRef(!0);if(a.useEffect(()=>(M.current=!0,()=>{M.current=!1}),[t]),!T)return(0,r.jsx)(i.x,{margin:{vertical:32},flex:{justifyContent:"center"},children:(0,r.jsx)(R.$,{purpose:"section"})});if("PipelineSnapshot"!==T.pipelineSnapshotOrError.__typename)return(0,r.jsx)(i.x,{margin:20,children:(0,r.jsx)(s.t,{icon:"error",title:"Could not fetch job details"})});let{pipelineSnapshotOrError:z,instance:U}=T,L=(0,S.i)(z.solidHandles).map(e=>e.solid),D=(0,tY.V)(L,E),V=(0,t1.tc)({nodes:D.all,mode:t0.hS.FLAT}).boxes.map(e=>({x:e.x,name:e.node.name})),J=e=>p[e]===tv.VOA.FAILURE,H=x.filter(J),B=function(e){let n={[tv.VOA.SUCCESS]:0,[tv.VOA.NOT_STARTED]:0,[tv.VOA.FAILURE]:0,[tv.VOA.QUEUED]:0,[tv.VOA.STARTED]:0};for(let t of e)n[t.state]=(n[t.state]||0)+1;return n}(f.map(e=>({partitionKey:e,state:p[e]})));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tm.a7,{children:(0,r.jsxs)(i.x,{flex:{direction:"column",gap:24},children:[(0,r.jsxs)(re,{title:(0,r.jsxs)(i.x,{flex:{justifyContent:"space-between"},children:[(0,r.jsx)("div",{children:"Partitions"}),u&&(0,r.jsxs)(i.x,{flex:{gap:4,alignItems:"center"},children:[(0,r.jsx)(R.$,{purpose:"body-text"}),(0,r.jsx)(m.pN,{color:_.$(),children:"Refreshing..."})]})]}),children:[(0,r.jsx)(i.x,{children:"Select partitions to materialize. Click and drag to select a range on the timeline."}),(0,r.jsx)(tQ.x,{selected:f,setSelected:e=>{let n=new Set(e);y(x.filter(e=>n.has(e))),O.fromFailure&&e.filter(e=>!J(e)).length>0&&$({...O,fromFailure:!1})},health:{runStatusForPartitionKey:e=>p[e]},partitionKeys:x,dimensionType:(0,tX.vH)(x[0])?tv.iVC.TIME_WINDOW:tv.iVC.STATIC}),(0,r.jsx)(tZ,{value:v,onChange:b,counts:B,allowed:O.fromFailure?[tv.VOA.FAILURE]:[tv.VOA.NOT_STARTED,tv.VOA.FAILURE,tv.VOA.QUEUED,tv.VOA.STARTED,tv.VOA.SUCCESS]})]}),H.length?(0,r.jsx)(re,{title:"Reexecution",children:(0,r.jsx)(tq.X,{checked:O.fromFailure,disabled:!w.every(J),onChange:()=>{let e={...O,fromFailure:!O.fromFailure,reexecute:!O.reexecute};e.fromFailure&&b([tv.VOA.FAILURE]),k(""),$(e)},label:(0,r.jsxs)(i.x,{flex:{display:"inline-flex",alignItems:"center"},children:[(0,r.jsx)(i.x,{margin:{right:4},children:"Re-execute from failures"}),(0,r.jsx)(e0.u,{placement:"top",content:"For each partition, if the most recent run failed, launch a re-execution starting from the steps that failed. Only applies for selections of failed partitions.",children:(0,r.jsx)(F.JO,{name:"info",color:_.md()})})]})})}):null,(0,r.jsx)(re,{title:(0,r.jsxs)(i.x,{flex:{display:"inline-flex",alignItems:"center"},children:[(0,r.jsx)(i.x,{margin:{right:4},children:"Step subset"}),(0,r.jsx)(e0.u,{placement:"top",content:"Applies a step-selection to each run for the requested partitions.",children:(0,r.jsx)(F.JO,{name:"info",color:_.md()})})]}),children:(0,r.jsxs)(i.x,{flex:{direction:"row",alignItems:"center",gap:12},children:[(0,r.jsx)(t6.j,{disabled:O.fromFailure,width:520,items:L,value:E,placeholder:"Type a step subset",onChange:k,autoApplyChanges:!0}),E?(0,r.jsxs)("div",{style:{color:_.$()},children:[V.length," step",1===V.length?"":"s"," selected"]}):null]})}),(0,r.jsxs)(re,{title:"Tags",children:[(0,r.jsx)(t3.U,{tagsFromSession:N,onChange:P,open:C,onRequestClose:()=>A(!1)}),N.length?(0,r.jsx)("div",{style:{border:"1px solid ".concat(_.im()),borderRadius:8,padding:3},children:(0,r.jsx)(t3.x,{tagsFromSession:N,onRequestEdit:()=>A(!0)})}):(0,r.jsx)("div",{children:(0,r.jsx)(tj.zx,{onClick:()=>A(!0),children:"Add tags to backfill runs"})})]}),(0,r.jsxs)(i.x,{flex:{direction:"column",gap:16},children:[(0,tG.Rb)(U)?null:(0,r.jsx)(tG.So,{}),(0,r.jsx)(tG.d,{instance:U})]})]})}),(0,r.jsxs)(tm.cN,{children:[(0,r.jsx)(tj.zx,{intent:"none",onClick:o,children:"Cancel"}),(0,r.jsx)(t5,{partitionNames:w,partitionSetName:n,reexecutionSteps:!O.fromFailure&&D.all.length<L.length?V.map(e=>e.name):void 0,fromFailure:O.fromFailure,tags:N,onSubmit:l,onSuccess:e=>{(0,tG.Xd)(j,e,!1),null==t||t(e,E)},onError:e=>{(0,tG.mv)(e)},repoAddress:c})]})]})},t5=e=>{let{partitionSetName:n,partitionNames:t,reexecutionSteps:i,fromFailure:s,tags:o,onSuccess:l,onError:d,onSubmit:c,repoAddress:p}=e,u=(0,et.$)(p),h=a.useRef(!0),[x,{loading:m}]=(0,g.Db)(t2.f);a.useEffect(()=>(h.current=!0,()=>{h.current=!1}),[l]);let j=async()=>{c();let{data:e}=await x({variables:{backfillParams:{selector:{partitionSetName:n,repositorySelector:u},partitionNames:t,reexecutionSteps:i,fromFailure:s,tags:o}}});h.current&&(e&&"LaunchBackfillSuccess"===e.launchPartitionBackfill.__typename?null==l||l(e.launchPartitionBackfill.backfillId,!1):null==d||d(e))},f=t.length,y=null==i?void 0:i.length,v=[m?"Submitting ".concat(f," ").concat(1===f?"run":"runs","…"):f?"Submit ".concat(f," ").concat(1===f?"run":"runs"):"Select partitions to submit",!m&&y?"(".concat(y," selected ").concat(1===y?"step":"steps",")"):""].join(" ");return(0,r.jsx)(t4.C,{runCount:f,config:{title:v,icon:"open_in_new",disabled:!f||m,onClick:j}})},t7=(0,g.Ps)(t8(),w.Q,tG.op,tG.EC),re=e=>{let{title:n,children:t}=e;return(0,r.jsxs)(i.x,{flex:{direction:"column",gap:4},children:[(0,r.jsx)(m.pm,{children:n}),(0,r.jsx)(i.x,{flex:{direction:"column",gap:8},padding:{top:16},border:"top",children:t})]})};var rn=t(343),rt=t(97350);let rr=a.memo(e=>{let{partitionNames:n,jobDataByPartition:t,stepDataByPartition:o,title:l,yLabel:d,isJob:c,hiddenStepKeys:p}=e,[u,h]=(0,a.useState)(()=>({})),x=(0,a.useRef)(null),m=(0,rt.R)(),[j,g]=(0,a.useState)(n.length>1e3),f=j&&n.length>1e3,y=(0,a.useCallback)(e=>{let n=x.current;if(!n)return;let t=n.scales["x-axis-0"];if(!t)return;let{offsetX:r,offsetY:i}=e;if(!("click"===e.type&&r<=n.chartArea.right&&r>=n.chartArea.left&&i<=n.chartArea.bottom&&i>=n.chartArea.top)||!e.shiftKey)return;let s=t.getValueForPixel(r),o=n.data.labels[s];h(e=>({...e,[o]:!e[o]}))},[]),v=(0,a.useMemo)(()=>f?null:{title:l?{display:!0,text:l}:void 0,animation:!1,scales:d?{y:{id:"y",title:{display:!0,text:d,color:m[_.Aw()]},grid:{color:m[_.wL()]},ticks:{color:m[_.Aw()],font:{size:12,family:nY.b.monospace}}},x:{id:"x",title:{display:!0,text:l,color:m[_.Aw()]},grid:{color:m[_.wL()]},ticks:{color:m[_.Aw()],font:{size:12,family:nY.b.monospace}}}}:void 0,plugins:{legend:{display:!1,onClick:(e,n)=>{}}},onClick:y,maintainAspectRatio:!1},[y,m,f,l,d]),{jobData:b,stepData:S}=(0,a.useMemo)(()=>{if(f)return{jobData:[],stepData:{}};let e=[],r={};return n.forEach(n=>{let i=!!u[n];t&&e.push({x:n,y:i?void 0:t[n]}),o&&Object.entries(o[n]||{}).forEach(e=>{let[t,s]=e;(null==p||!p.includes(t))&&s&&(r[t]=[...r[t]||[],{x:n,y:i?void 0:s}])})}),Object.keys(r).forEach(e=>{r[e]=ri(n,r[e])}),{jobData:e,stepData:r}},[u,p,t,n,f,o]),w=c?"Total job":"Total pipeline",C=(0,a.useMemo)(()=>f?null:{labels:n,datasets:[...!t||p&&p.includes(w)?[]:[{label:w,data:b,borderColor:m[_.im()],backgroundColor:m[_.M()]}],...Object.keys(S).map(e=>({label:e,data:S[e],borderColor:(0,z.kU)(e),backgroundColor:m[_.M()]}))]},[w,p,b,t,n,m,f,S]);return C&&v?(0,r.jsx)(rs,{children:(0,r.jsx)(rn.x1,{data:()=>C,height:300,options:v,ref:x})}):(0,r.jsx)(s.t,{icon:"warning",title:"Large number of data points",description:(0,r.jsxs)(i.x,{flex:{direction:"column",gap:8},children:["There are ",nG.V.format(n.length)," datapoints in this graph. This might crash the browser.",(0,r.jsx)("div",{children:(0,r.jsx)(tj.zx,{intent:"primary",onClick:()=>{g(!1)},children:"Show anyway"})})]})})}),ri=(e,n)=>{let t={};return n.forEach(e=>{t[e.x]=e.y}),e.map(e=>({x:e,y:t[e]}))},rs=T.ZP.div.withConfig({componentId:"sc-9b085522-0"})(["display:flex;color:",";padding:24px 12px;text-decoration:none;"],_.$());var ro=t(32996),rl=t(71291),ra=t(95590),rd=t(9875);function rc(){let e=(0,h._)(["\n  query PartitionsStatusQuery(\n    $partitionSetName: String!\n    $repositorySelector: RepositorySelector!\n  ) {\n    partitionSetOrError(\n      repositorySelector: $repositorySelector\n      partitionSetName: $partitionSetName\n    ) {\n      ... on PartitionSet {\n        id\n        ...OpJobPartitionSet\n      }\n      ... on PartitionSetNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  fragment OpJobPartitionSet on PartitionSet {\n    id\n    name\n    pipelineName\n    partitionsOrError {\n      ... on Partitions {\n        results {\n          name\n        }\n      }\n      ...PythonErrorFragment\n    }\n    partitionStatusesOrError {\n      ... on PartitionStatuses {\n        results {\n          id\n          ...OpJobPartitionStatus\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  fragment OpJobPartitionStatus on PartitionStatus {\n    id\n    partitionName\n    runStatus\n    runDuration\n  }\n\n  ","\n"]);return rc=function(){return e},e}let rp=new Map,ru=a.memo(e=>{let{partitionSetName:n,repoAddress:t}=e,o=(0,et.$)(t),l=(0,a.useMemo)(()=>({partitionSetName:n,repositorySelector:o}),[n,o]),d=(0,a.useMemo)(()=>JSON.stringify(l),[l]),c=(0,a.useMemo)(()=>rp.get(d),[d]),p=(0,g.aM)(rj,{variables:{partitionSetName:n,repositorySelector:o},notifyOnNetworkStatusChange:!0,fetchPolicy:"no-cache"});(0,a.useLayoutEffect)(()=>{p&&rp.set(d,p)},[d,p]);let{data:u,loading:h}=p.data?p:null!=c?c:p;if(!u)return h?(0,r.jsx)(i.x,{padding:32,flex:{direction:"column",alignItems:"center"},children:(0,r.jsxs)(i.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,r.jsx)(R.$,{purpose:"body-text"}),(0,r.jsx)("div",{children:"Loading partitions…"})]})}):(0,r.jsx)(i.x,{padding:32,children:(0,r.jsx)(s.t,{icon:"error",title:"An error occurred",description:"An unexpected error occurred."})});let{partitionSetOrError:x}=u;if("PartitionSetNotFoundError"===x.__typename)return(0,r.jsx)(i.x,{padding:32,children:(0,r.jsx)(s.t,{icon:"search",title:"Partition set not found",description:x.message})});if("PythonError"===x.__typename)return(0,r.jsx)(i.x,{padding:32,children:(0,r.jsx)(nz.T9,{error:x})});if("PythonError"===x.partitionsOrError.__typename)return(0,r.jsx)(i.x,{padding:32,children:(0,r.jsx)(nz.T9,{error:x.partitionsOrError})});let m=x.partitionsOrError.results.map(e=>{let{name:n}=e;return n});return(0,r.jsx)(rx,{partitionNames:m,partitionSet:x,repoAddress:t,partitionsQueryResult:p})});function rh(e){return(0,a.useMemo)(()=>{let n={},t={};return e.forEach(e=>{if(!e.runsLoaded||0===e.runs.length)return;let r=e.runs.sort((e,n)=>e.startTime||0-(n.startTime||0)),i=r[r.length-1];n[e.name]={},t[e.name]=(null==i?void 0:i.endTime)&&(null==i?void 0:i.startTime)?i.endTime-i.startTime:void 0,i.stepStats.forEach(t=>{n[e.name][t.stepKey]=[t.endTime&&t.startTime?t.endTime-t.startTime:void 0]})}),{runDurationData:t,stepDurationData:n}},[e])}let rx=a.memo(e=>{let{partitionSet:n,partitionNames:t,repoAddress:s,partitionsQueryResult:o}=e,{permissions:{canLaunchPartitionBackfill:l},disabledReasons:d}=(0,te.xz)(s.location),{viewport:c,containerProps:p}=(0,tL.S)(),[u,h]=(0,a.useState)(60),[x,j]=(0,a.useState)(0),[g,f]=(0,a.useState)(!1),[y,v]=(0,a.useState)(!1),[b,S]=(0,a.useState)(!1),w=(0,et.$)(s),[C,A]=(0,a.useState)(0),N=(0,rd.T)({partitionSetName:n.name,partitionTagName:tS.H.Partition,partitionNames:t,pageSize:u,runsFilter:[],repositorySelector:w,jobName:n.pipelineName,offset:x,skipQuery:!g});(0,a.useEffect)(()=>{c.width&&!g&&h((0,rl.Rc)(c.width-ra.AQ))},[c.width,g,h]);let P=(0,a.useMemo)(()=>g?t.slice(Math.max(0,t.length-1-x-u),t.length-x):t,[x,u,t,g]),E=rh(N).stepDurationData,k=(0,a.useCallback)(()=>S(!0),[]),O=(0,a.useMemo)(()=>new Set(P),[P]),{partitionStatusesOrError:R}=n,_=(0,a.useMemo)(()=>"PartitionStatuses"===R.__typename?R.results:[],[R]),{runStatusData:$,runDurationData:I}=(0,a.useMemo)(()=>{let e={},n={};return _.forEach(t=>{e[t.partitionName]=t.runStatus||tv.VOA.NOT_STARTED,O.has(t.partitionName)&&(n[t.partitionName]=t.runDuration||void 0)}),{runStatusData:e,runDurationData:n}},[_,O]),T=(0,a.useMemo)(()=>({runStatusForPartitionKey:e=>$[e]}),[$]);return(0,r.jsxs)("div",{children:[(0,r.jsx)(tm.Vq,{canEscapeKeyClose:!b,canOutsideClickClose:!b,onClose:()=>v(!1),style:{width:800,zIndex:1e3},title:"Launch ".concat(n.pipelineName," backfill"),isOpen:y,children:y&&(0,r.jsx)(t9,{partitionSetName:n.name,partitionNames:t,runStatusData:$,refreshing:o.loading,pipelineName:n.pipelineName,onCancel:()=>v(!1),onLaunch:(e,n)=>{A(C+1),v(!1)},onSubmit:k,repoAddress:s})}),(0,r.jsxs)(i.x,{flex:{justifyContent:"space-between",direction:"row",alignItems:"center"},border:"bottom",padding:{vertical:16,horizontal:24},children:[(0,r.jsx)(m.pm,{children:"Status"}),(0,r.jsxs)(i.x,{flex:{gap:8},children:[(0,r.jsx)(tj.zx,{onClick:()=>f(!g),active:y,children:g?"Hide per-step status":"Show per-step status"}),(0,r.jsx)(tj.zx,{onClick:()=>o.refetch(),loading:o.loading,disabled:o.loading,children:"Refresh"}),l?(0,r.jsx)(tj.zx,{onClick:()=>{o.refetch(),v(!y)},icon:(0,r.jsx)(F.JO,{name:"add_circle"}),active:y,children:"Launch backfill…"}):(0,r.jsx)(e0.u,{content:d.canLaunchPartitionBackfill,children:(0,r.jsx)(tj.zx,{icon:(0,r.jsx)(F.JO,{name:"add_circle"}),disabled:!0,children:"Launch backfill…"})})]})]}),(0,r.jsxs)(i.x,{flex:{direction:"row",alignItems:"center"},border:"bottom",padding:{left:8},children:[(0,r.jsx)(rm,{count:t.length,label:"Total partitions"}),(0,r.jsx)(rm,{count:(0,a.useMemo)(()=>t.filter(e=>$[e]===tv.VOA.FAILURE).length,[t,$]),label:"Failed partitions"}),(0,r.jsx)(rm,{count:(0,a.useMemo)(()=>t.filter(e=>!$[e]||$[e]===tv.VOA.NOT_STARTED).length,[t,$]),label:"Missing partitions"})]}),(0,r.jsxs)(i.x,{padding:{vertical:16,horizontal:24},children:[(0,r.jsx)("div",{...p,children:(0,r.jsx)(ro.b,{partitionNames:t,health:T,selected:g?P:void 0,selectionWindowSize:u,onClick:(0,a.useCallback)(e=>{let n=t.length-1;j(Math.min(n,Math.max(0,n-t.indexOf(e)-.5*u))),g||f(!0)},[u,t,g]),tooltipMessage:"Click to view per-step status"})}),g?(0,r.jsx)(i.x,{margin:{top:16},children:(0,r.jsx)(rl.ux,{partitionNames:t,partitions:N,pipelineName:n.pipelineName,repoAddress:s,setPageSize:h,offset:x,setOffset:j})}):null]}),(0,r.jsx)(i.x,{padding:{horizontal:24,vertical:16},border:"top-and-bottom",children:(0,r.jsx)(m.pm,{children:"Run duration"})}),(0,r.jsx)(i.x,{margin:24,children:(0,r.jsx)(rr,{isJob:!0,title:"Execution time by partition",yLabel:"Execution time (secs)",partitionNames:g?P:t,jobDataByPartition:I})}),g?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.x,{padding:{horizontal:24,vertical:16},children:(0,r.jsx)(m.pm,{children:"Step duration"})}),(0,r.jsx)(i.x,{margin:24,children:(0,r.jsx)(rr,{isJob:!0,title:"Execution time by partition",yLabel:"Execution time (secs)",partitionNames:P,stepDataByPartition:E})})]}):null,(0,r.jsx)(i.x,{padding:{horizontal:24,vertical:16},border:"top-and-bottom",style:{marginBottom:-1},children:(0,r.jsx)(m.pm,{children:"Backfill history"})}),(0,r.jsx)(i.x,{margin:{bottom:20},children:(0,r.jsx)(tH,{partitionSetName:n.name,repositorySelector:w,partitionNames:t,refetchCounter:C})})]})}),rm=e=>{let{count:n,label:t}=e;return(0,r.jsxs)(i.x,{padding:16,style:{flex:1},border:"right",children:[(0,r.jsx)("div",{style:{fontSize:18,marginBottom:4},children:(0,r.jsx)("strong",{children:n})}),(0,r.jsx)("div",{children:t})]})},rj=(0,g.Ps)(rc(),f.B);var rg=t(61915),rf=t(21103),ry=t(65470),rv=t(32177),rb=t(65152);let rS=e=>{let{partitionSetName:n,repoAddress:t,pipelineName:s}=e,{viewport:o,containerProps:l}=(0,tL.S)(),d=(0,et.$)(t),c=(0,rf.uc)("*",{pipelineSelector:{pipelineName:s,repositoryName:t.name,repositoryLocationName:t.location}}),p=(0,rb.mR)(c.graphAssetKeys),{total:u,missing:h,merged:x}=(0,a.useMemo)(()=>{let e=(0,tX.$G)(p.filter(e=>e.dimensions.length>0)),n=e.dimensions.map(e=>({selectedKeys:e.partitionKeys,selectedRanges:[(0,rg.$0)(e)],dimension:e})),t=(0,tX.ju)(n,n=>e.stateForKeyIdx(n).includes(ry.yo.MISSING));return{merged:e,total:(0,rb.xD)(n),missing:t.length}},[p]),[j,g]=(0,a.useState)(60),[f,y]=(0,a.useState)(0),[v,b]=(0,a.useState)(!1);(0,a.useEffect)(()=>{o.width&&g((0,rl.Rc)(o.width-ra.AQ))},[o.width,g]);let S=x.dimensions.findIndex(tX.nv);-1===S&&(S=0);let w=x.dimensions[S]?x.dimensions[S]:null,C=(null==w?void 0:w.partitionKeys)||[],A=C.slice(Math.max(0,C.length-1-f-j),C.length-f);return(0,r.jsxs)("div",{children:[(0,r.jsxs)(i.x,{flex:{justifyContent:"space-between",direction:"row",alignItems:"center"},border:"bottom",padding:{vertical:16,horizontal:24},children:[(0,r.jsx)(m.pm,{children:"Status"}),(0,r.jsxs)(i.x,{flex:{gap:8},children:[(0,r.jsx)(tj.zx,{onClick:()=>b(!v),children:v?"Hide per-asset status":"Show per-asset status"}),(0,r.jsx)(rv.XE,{scope:{all:c.graphQueryItems.map(e=>e.node),skipAllTerm:!0},preferredJobName:s})]})]}),(0,r.jsxs)(i.x,{flex:{direction:"row",alignItems:"center"},border:"bottom",padding:{left:8},children:[(0,r.jsx)(rm,{count:u,label:"Total partitions"}),(0,r.jsx)(rm,{count:h,label:"Missing partitions"})]}),(0,r.jsxs)(i.x,{padding:{vertical:16,horizontal:24},children:[(0,r.jsx)("div",{...l,children:(0,r.jsx)(ro.b,{partitionNames:C,splitPartitions:!!w&&!(0,tX.nv)(w),health:{ranges:x.rangesForSingleDimension(S)},selected:A,selectionWindowSize:j,tooltipMessage:"Click to view per-asset status",onClick:e=>{let n=C.length-1;y(Math.min(n,Math.max(0,n-C.indexOf(e)-.5*j)))}})}),v&&w&&(0,r.jsx)(i.x,{margin:{top:16},children:(0,r.jsx)(rl.ac,{rangeDimensionIdx:S,rangeDimension:w,assetHealth:p,assetQueryItems:c.graphQueryItems,pipelineName:s,setPageSize:g,offset:f,setOffset:y})})]}),v&&(0,r.jsx)(rw,{repositorySelector:d,pipelineName:s,partitionSetName:n,multidimensional:((null==x?void 0:x.dimensions.length)||0)>1,dimensionName:w?w.name:null,dimensionKeys:C,selected:A,offset:f,pageSize:j}),(0,r.jsx)(i.x,{padding:{horizontal:24,vertical:16},border:"top-and-bottom",style:{marginBottom:-1},children:(0,r.jsx)(m.pm,{children:"Backfill history"})}),(0,r.jsx)(i.x,{margin:{bottom:20},children:(0,r.jsx)(tH,{partitionSetName:n,repositorySelector:d,partitionNames:C,refetchCounter:1})})]})},rw=e=>{let{repositorySelector:n,dimensionKeys:t,dimensionName:s,selected:o,pageSize:l,partitionSetName:a,multidimensional:d,pipelineName:c,offset:p}=e,{stepDurationData:u,runDurationData:h}=rh((0,rd.T)({partitionSetName:a,partitionTagName:d?"".concat(tS.H.Partition,"/").concat(s):tS.H.Partition,partitionNames:t,repositorySelector:n,pageSize:l,runsFilter:[],jobName:c,offset:p,skipQuery:!s}));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.x,{padding:{horizontal:24,vertical:16},border:"top-and-bottom",children:(0,r.jsx)(m.pm,{children:"Run duration"})}),(0,r.jsx)(i.x,{margin:24,children:(0,r.jsx)(rr,{isJob:!0,title:"Execution time by partition",yLabel:"Execution time (secs)",partitionNames:o,jobDataByPartition:h})}),(0,r.jsx)(i.x,{padding:{horizontal:24,vertical:16},border:"top-and-bottom",children:(0,r.jsx)(m.pm,{children:"Step durations"})}),(0,r.jsx)(i.x,{margin:24,children:(0,r.jsx)(rr,{isJob:!0,title:"Execution time by partition",yLabel:"Execution time (secs)",partitionNames:o,stepDataByPartition:u})})]})};function rC(){let e=(0,h._)(["\n  query AssetJobPartitionSetsQuery(\n    $pipelineName: String!\n    $repositoryName: String!\n    $repositoryLocationName: String!\n  ) {\n    partitionSetsOrError(\n      pipelineName: $pipelineName\n      repositorySelector: {\n        repositoryName: $repositoryName\n        repositoryLocationName: $repositoryLocationName\n      }\n    ) {\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on PartitionSets {\n        results {\n          id\n          name\n          mode\n          solidSelection\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"]);return rC=function(){return e},e}let rA=(0,g.Ps)(rC(),f.B),rN=e=>{let{repoAddress:n}=e,t=(0,d.UO)(),{pipelinePath:o}=t,l=(0,C.p3)(o),{pipelineName:c}=l,p=(0,el.Ux)(n),u=null==p?void 0:p.repository.pipelines.find(e=>e.name===c),h=!!(null==u?void 0:u.isJob),x=!!(null==u?void 0:u.isAssetJob);(0,tl.b)(l,h),(0,C.Bj)(t);let{partitionSet:m,partitionSetError:j}=function(e,n){let{data:t}=(0,g.aM)(rA,{skip:!n,variables:{repositoryLocationName:e.location,repositoryName:e.name,pipelineName:n}});return(0,a.useMemo)(()=>({partitionSet:(null==t?void 0:t.partitionSetsOrError.__typename)==="PartitionSets"?t.partitionSetsOrError.results[0]:void 0,partitionSetError:(null==t?void 0:t.partitionSetsOrError.__typename)==="PipelineNotFoundError"||(null==t?void 0:t.partitionSetsOrError.__typename)==="PythonError"?t.partitionSetsOrError:void 0}),[t])}(n,c);return m||j?j?(0,r.jsx)(i.x,{padding:{vertical:64},children:(0,r.jsx)(s.t,{icon:"error",title:"Partitions",description:j.message})}):m?x?(0,r.jsx)(rS,{pipelineName:c,partitionSetName:m.name,repoAddress:n}):(0,r.jsx)(ru,{partitionSetName:m.name,repoAddress:n}):(0,r.jsx)(i.x,{padding:{vertical:64},children:(0,r.jsx)(s.t,{icon:"error",title:"Partitions",description:(0,r.jsxs)("div",{children:["There are no partition sets defined for ",h?"job":"pipeline"," ",(0,r.jsx)("code",{children:c}),"."]})})}):(0,r.jsx)(A.T,{purpose:"page"})},rP=e=>{let{repoAddress:n}=e,{FallthroughRoute:t}=(0,a.useContext)(n7.v);return(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:0,width:"100%",height:"100%"},children:[(0,r.jsx)(tU,{repoAddress:n}),(0,r.jsxs)(d.rs,{children:[(0,r.jsx)(nm.A,{path:"/locations/:repoPath/pipeline_or_job/:pipelinePath(/?.*)",children:(0,r.jsx)(tn,{repoAddress:n})}),(0,r.jsx)(nm.A,{path:["/locations/:repoPath/pipelines/:pipelinePath/playground/setup","/locations/:repoPath/jobs/:pipelinePath/playground/setup"],children:(0,r.jsx)(tu,{repoAddress:n})}),(0,r.jsx)(nm.A,{path:["/locations/:repoPath/pipelines/:pipelinePath/playground/setup-from-run/:runId","/locations/:repoPath/jobs/:pipelinePath/playground/setup-from-run/:runId"],children:(0,r.jsx)(td,{repoAddress:n})}),(0,r.jsx)(nm.A,{path:["/locations/:repoPath/pipelines/:pipelinePath/playground","/locations/:repoPath/jobs/:pipelinePath/playground"],children:(0,r.jsx)(tr.H,{repoAddress:n})}),(0,r.jsx)(nm.A,{path:["/locations/:repoPath/pipelines/:pipelinePath/runs/:runId","/locations/:repoPath/jobs/:pipelinePath/runs/:runId"],render:e=>(0,r.jsx)(d.l_,{to:"/runs/".concat(e.match.params.runId)})}),(0,r.jsx)(nm.A,{path:["/locations/:repoPath/pipelines/:pipelinePath/runs","/locations/:repoPath/jobs/:pipelinePath/runs"],children:(0,r.jsx)(tt.G,{repoAddress:n})}),(0,r.jsx)(nm.A,{path:["/locations/:repoPath/pipelines/:pipelinePath/partitions","/locations/:repoPath/jobs/:pipelinePath/partitions"],children:(0,r.jsx)(rN,{repoAddress:n})}),(0,r.jsx)(nm.A,{path:["/locations/:repoPath/pipelines/:pipelinePath/overview","/locations/:repoPath/jobs/:pipelinePath/overview"],render:e=>(0,r.jsx)(d.l_,{to:"/locations/".concat(e.match.url.replace(/\/overview$/i,""))})}),(0,r.jsx)(nm.A,{path:["/locations/:repoPath/pipelines/(/?.*)","/locations/:repoPath/jobs/(/?.*)"],children:(0,r.jsx)(t,{repoAddress:n})})]})]})};var rE=t(15686),rk=t(71662),rO=t(6750),rR=t(34147),r_=t(581);function r$(){let e=(0,h._)(["\n  query SchedulePartitionStatusQuery($scheduleSelector: ScheduleSelector!) {\n    scheduleOrError(scheduleSelector: $scheduleSelector) {\n      ... on Schedule {\n        id\n        ...SchedulePartitionStatusFragment\n      }\n    }\n  }\n\n  fragment SchedulePartitionStatusFragment on Schedule {\n    id\n    mode\n    pipelineName\n    partitionSet {\n      id\n      name\n      partitionStatusesOrError {\n        ... on PartitionStatuses {\n          results {\n            id\n            ...SchedulePartitionStatusResult\n          }\n        }\n      }\n    }\n  }\n\n  fragment SchedulePartitionStatusResult on PartitionStatus {\n    id\n    partitionName\n    runStatus\n  }\n"]);return r$=function(){return e},e}let rF=["Succeeded","Failed","Missing","Pending"],rI=e=>{switch(e.runStatus){case null:return"Missing";case tv.VOA.SUCCESS:return"Succeeded";case tv.VOA.FAILURE:case tv.VOA.CANCELED:case tv.VOA.CANCELING:return"Failed";case tv.VOA.MANAGED:case tv.VOA.QUEUED:case tv.VOA.NOT_STARTED:case tv.VOA.STARTED:case tv.VOA.STARTING:return"Pending";default:return(0,z.UT)(e.runStatus)}},rT=(0,a.memo)(e=>{let{repoAddress:n,schedule:t}=e,i=(0,el.Ux)(n),{name:s,partitionSet:o,pipelineName:l}=t,d=null==o?void 0:o.name,p=(0,el.E8)(i,l),u=(0,a.useMemo)(()=>{let e=d?e_().stringify({partitionSet:d},{addQueryPrefix:!0}):"";return"/".concat(p?"jobs":"pipelines","/").concat(l,"/partitions").concat(e)},[d,p,l]),h=(0,N.$U)(n,u),[x,{data:j,loading:f}]=(0,g.td)(rz,{variables:{scheduleSelector:{scheduleName:s,repositoryName:n.name,repositoryLocationName:n.location}}}),y=(0,a.useCallback)(()=>x(),[x]);return(0,r.jsxs)(rR.Z,{direction:"column",spacing:4,children:[(0,r.jsx)(c.rU,{to:h,children:d}),(()=>{if(f)return(0,r.jsx)(m.YS,{style:{color:_.$()},children:"Loading…"});if(!j)return(0,r.jsx)(tx.Z,{onClick:y,children:(0,r.jsx)(m.YS,{children:"Show coverage"})});let e=j.scheduleOrError;return"Schedule"===e.__typename?(0,r.jsx)(rM,{schedule:e,partitionURL:h}):(0,r.jsx)(m.YS,{style:{color:_.Yn()},children:"Partition set not found!"})})()]})}),rM=e=>{let{schedule:n,partitionURL:t}=e,{partitionSet:i}=n;if(!i||"PartitionStatuses"!==i.partitionStatusesOrError.__typename)return(0,r.jsx)("span",{style:{color:_.$()},children:"None"});let s=i.partitionStatusesOrError.results,o={};return s.forEach(e=>{let n=rI(e);o[n]=[...o[n]||[],e]}),(0,r.jsx)(r_.Jy,{children:(0,r.jsx)("tbody",{children:rF.map(e=>e in o?(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{style:{width:"100px"},children:e}),(0,r.jsx)("td",{children:"Failed"===e||"Missing"===e?(0,r.jsx)(c.rU,{to:"".concat(t,"?showFailuresAndGapsOnly=true"),style:{color:_.Ep()},children:o[e].length}):o[e].length})]},e):null)})})},rz=(0,g.Ps)(r$());var rU=t(99417);let rL=e=>{let{repoAddress:n,schedule:t}=e,{permissions:{canStartSchedule:i,canStopRunningSchedule:s}}=(0,te.xz)(n.location),{name:o}=t,l={...(0,et.$)(n),scheduleName:o},[a,{loading:d}]=(0,g.Db)(rU.E1,{onCompleted:rU.JH}),c=i&&s,p=c?'In code, a default status for "'.concat(o,'" has been set to "').concat(t.defaultStatus,'". Click here to reset the schedule status to track the status set in code.'):te.Qr;return(0,r.jsx)(e0.u,{content:p,display:"flex",children:(0,r.jsx)(tj.zx,{disabled:d||!c,onClick:()=>{a({variables:{scheduleSelector:l}})},children:"Reset schedule status"})})};var rD=t(89516),rV=t(24427),rJ=t(55010),rH=t(60603),rB=t(49035),rq=t(76562),rG=t(68903),rQ=t(24608);function rK(){let e=(0,h._)(["\n  query getSchedule(\n    $scheduleSelector: ScheduleSelector!\n    $startTimestamp: Float\n    $ticksAfter: Int\n    $ticksBefore: Int\n  ) {\n    scheduleOrError(scheduleSelector: $scheduleSelector) {\n      ... on PythonError {\n        message\n        stack\n      }\n      ... on Schedule {\n        id\n        name\n        potentialTickTimestamps(\n          startTimestamp: $startTimestamp\n          upperLimit: $ticksAfter\n          lowerLimit: $ticksBefore\n        )\n      }\n    }\n  }\n"]);return rK=function(){return e},e}function rW(){let e=(0,h._)(["\n  mutation ScheduleDryRunMutation($selectorData: ScheduleSelector!, $timestamp: Float) {\n    scheduleDryRun(selectorData: $selectorData, timestamp: $timestamp) {\n      ...PythonErrorFragment\n      ... on DryRunInstigationTick {\n        timestamp\n        evaluationResult {\n          runRequests {\n            ...RunRequestFragment\n          }\n          skipReason\n          error {\n            ...PythonErrorFragment\n          }\n        }\n      }\n      ... on ScheduleNotFoundError {\n        scheduleName\n      }\n    }\n  }\n  ","\n  ","\n"]);return rW=function(){return e},e}let rZ=navigator.language,rY=e=>(0,r.jsx)(tm.Vq,{...e,style:{width:"70vw",display:"flex"},title:(0,r.jsxs)(i.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,r.jsx)(F.JO,{name:"schedule"}),(0,r.jsx)("span",{children:e.name})]}),children:(0,r.jsx)(rX,{...e})}),rX=e=>{let{repoAddress:n,name:t,onClose:s,jobName:o}=e,[l,d]=(0,a.useState)(),{data:c}=(0,g.aM)(r0,{variables:{scheduleSelector:{repositoryLocationName:n.location,repositoryName:n.name,scheduleName:t}}}),{timezone:[p]}=(0,a.useContext)(rG.JB),[u,h]=(0,a.useState)(!1),x=(0,a.useRef)(null),{viewport:m,containerProps:j}=(0,tL.S)(),[f,y]=(0,a.useState)(!1),v=(0,a.useMemo)(()=>{var e;if(f)return(0,r.jsx)(r1,{repoAddress:n,name:t,timestamp:x.current.ts,jobName:o});if(!c)return(0,r.jsx)(i.x,{padding:{vertical:48},flex:{alignItems:"center",justifyContent:"center"},children:(0,r.jsx)(R.$,{purpose:"page"})});if("PythonError"===c.scheduleOrError.__typename||"ScheduleNotFoundError"===c.scheduleOrError.__typename)return(0,r.jsx)("div",{});let s=c.scheduleOrError.potentialTickTimestamps.map(e=>({ts:e,label:(0,rQ.j)({timestamp:{unix:e},locale:rZ,timezone:p,timeFormat:{showTimezone:!0}})}));return x.current=l||s[0]||null,(0,r.jsxs)(r4,{children:[(0,r.jsx)(r6,{children:"Select a mock evaluation time"}),(0,r.jsx)(rJ.J,{isOpen:u,position:"bottom-left",fill:!0,content:(0,r.jsx)(rH.v2,{style:{maxHeight:"400px",overflow:"scroll",width:"".concat(m.width,"px")},children:s.map(e=>(0,r.jsx)(rH.sN,{text:(0,r.jsx)("div",{"data-testid":(0,tW.N)("tick-".concat(e.ts)),children:e.label}),onClick:()=>{d(e),h(!1)}},e.ts))}),children:(0,r.jsx)("div",{...j,children:(0,r.jsx)(tj.zx,{style:{flex:1},rightIcon:(0,r.jsx)(F.JO,{name:"arrow_drop_down"}),onClick:()=>h(e=>!e),"data-testid":(0,tW.N)("tick-selection"),children:null===(e=x.current)||void 0===e?void 0:e.label})})})]})},[l,j,c,u,o,t,n,f,p,m.width]),b=(0,a.useMemo)(()=>f?(0,r.jsx)(tj.zx,{onClick:s,children:"Close"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tj.zx,{onClick:s,children:"Cancel"}),(0,r.jsx)(tj.zx,{"data-testid":(0,tW.N)("evaluate"),intent:"primary",onClick:()=>{y(!0)},children:"Evaluate"})]}),[s,f]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tm.a7,{children:(0,r.jsx)("div",{style:{minHeight:"300px"},children:v})}),b?(0,r.jsx)(tm.cN,{topBorder:!0,children:b}):null]})},r0=(0,g.Ps)(rK()),r1=e=>{var n,t,o,l;let{repoAddress:d,name:c,timestamp:p,jobName:u}=e,{timezone:[h]}=(0,a.useContext)(rG.JB),[x]=(0,g.Db)(r2,(0,a.useMemo)(()=>({variables:{selectorData:{...(0,et.$)(d),scheduleName:c},timestamp:p}}),[c,d,p])),[f,y]=(0,a.useState)(null);if((0,a.useEffect)(()=>{x().then(e=>{y(()=>e)})},[x]),!f||!f.data)return(0,r.jsx)(i.x,{padding:32,flex:{justifyContent:"center",alignItems:"center"},children:(0,r.jsx)(R.$,{purpose:"page"})});let v=(null==f?void 0:null===(n=f.data)||void 0===n?void 0:n.scheduleDryRun.__typename)==="DryRunInstigationTick"?null==f?void 0:null===(t=f.data)||void 0===t?void 0:t.scheduleDryRun.evaluationResult:null,b=null==v?void 0:null===(o=v.runRequests)||void 0===o?void 0:o.length,S=null==v?void 0:v.error;return(0,r.jsxs)(i.x,{flex:{direction:"column",gap:8},children:[(0,r.jsx)(i.x,{children:(0,r.jsxs)(r3,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(m.pm,{children:"Result"}),(0,r.jsx)(i.x,{flex:{grow:1,alignItems:"center"},children:(0,r.jsx)("div",{children:S?(0,r.jsx)(j.V,{intent:"danger",children:"Failed"}):b?(0,r.jsxs)(j.V,{intent:"success",children:[b," run requests"]}):(0,r.jsx)(j.V,{intent:"warning",children:"Skipped"})})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(m.pm,{children:"Tick"}),(0,r.jsx)(i.x,{flex:{grow:1,alignItems:"center"},children:(0,r.jsx)(m.fv,{children:(0,rQ.j)({timestamp:{unix:p},locale:rZ,timezone:h,timeFormat:{showTimezone:!0}})})})]})]})}),f.data&&v?v.error?(0,r.jsx)(nz.T9,{error:v.error}):(null===(l=v.runRequests)||void 0===l?void 0:l.length)?(0,r.jsx)(rB.k,{runRequests:v.runRequests,repoAddress:d,isJob:!0,jobName:u,name:c}):(0,r.jsxs)("div",{children:[(0,r.jsx)(m.pm,{children:"Skip Reason"}),(0,r.jsx)("div",{children:(null==v?void 0:v.skipReason)||"No skip reason was output"})]}):(0,r.jsx)(s.t,{title:"An unknown error occurred",description:(0,r.jsxs)("span",{children:["File an issue on"," ",(0,r.jsx)("a",{href:"https://github.com/dagster-io/dagster",target:"_blank",rel:"noreferrer",children:"Github"})," ","if you think this is a bug"]}),icon:"error"})]})},r2=(0,g.Ps)(rW(),f.B,rq.s),r4=T.ZP.div.withConfig({componentId:"sc-386e26f5-0"})(["button{width:100%;display:flex;justify-content:space-between;}"]),r3=T.ZP.div.withConfig({componentId:"sc-386e26f5-1"})(["display:grid;grid-template-columns:repeat(2,1fr);padding-bottom:12px;border-bottom:1px solid ",";margin-bottom:12px;","{padding-bottom:4px;display:block;}pre{margin:0;}button{margin-top:4px;}"],_.wL(),m.pm),r6=T.ZP.div.withConfig({componentId:"sc-386e26f5-2"})(["padding-bottom:2px;"]);var r8=t(58905);let r9={showSeconds:!0,showTimezone:!0},r5=e=>{let{repoAddress:n,schedule:t,refreshState:s,assetSelection:o}=e,{cronSchedule:l,executionTimezone:d,futureTicks:c,name:p,partitionSet:u,pipelineName:h}=t,{scheduleState:g}=t,{status:f,ticks:y}=g,v=y.length>0?y[0]:null,S=f===tv.ynu.RUNNING,[w,C]=(0,a.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.m,{title:(0,r.jsx)(m.X6,{children:p}),tags:(0,r.jsxs)(j.V,{icon:"schedule",children:["Schedule in ",(0,r.jsx)(b.b,{repoAddress:n})]}),right:(0,r.jsxs)(i.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,r.jsx)(er.xi,{refreshState:s}),(0,r.jsx)(tj.zx,{onClick:()=>{C(!0)},children:"Test Schedule"})]})}),(0,r.jsx)(rY,{isOpen:w,onClose:()=>{C(!1)},name:t.name,repoAddress:n,jobName:h},w?"1":"0"),(0,r.jsx)(ty.fJ,{children:(0,r.jsxs)("tbody",{children:[t.description?(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Description"}),(0,r.jsx)("td",{children:t.description})]}):null,(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Latest tick"}),(0,r.jsx)("td",{children:v?(0,r.jsxs)(rR.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,r.jsx)(tA.v,{timestamp:v.timestamp,timezone:d,timeFormat:r9}),(0,r.jsx)(r8.a,{tick:v})]}):"Schedule has never run"})]}),c.results[0]&&S&&(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Next tick"}),(0,r.jsx)("td",{children:(0,r.jsx)(tA.v,{timestamp:c.results[0].timestamp,timezone:d,timeFormat:r9})})]}),t.pipelineName||o?(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Target"}),(0,r.jsx)(r7,{children:(0,r.jsx)(rV.p,{targets:t.pipelineName?[{pipelineName:t.pipelineName}]:null,repoAddress:n,assetSelection:o||null,automationType:"schedule"})})]}):null,(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)(i.x,{flex:{alignItems:"center"},style:{height:"32px"},children:"Running"})}),(0,r.jsx)("td",{children:(0,r.jsxs)(i.x,{flex:{direction:"row",gap:12,alignItems:"center"},style:{height:"32px"},children:[(0,r.jsx)(tR.M,{repoAddress:n,schedule:t}),t.canReset&&(0,r.jsx)(rL,{repoAddress:n,schedule:t})]})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Partition set"}),(0,r.jsx)("td",{children:u?(0,r.jsx)(rT,{schedule:t,repoAddress:n}):"None"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Schedule"}),(0,r.jsx)("td",{children:l?(0,r.jsxs)(rR.Z,{direction:"row",spacing:8,children:[(0,r.jsx)("span",{children:(0,rD.A)(l,d||"UTC")}),(0,r.jsxs)(m.EK,{children:["(",l,")"]})]}):(0,r.jsx)("div",{children:"—"})})]}),d?(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Execution timezone"}),(0,r.jsx)("td",{children:d})]}):null]})})]})},r7=T.ZP.td.withConfig({componentId:"sc-6c763e5-0"})(["button{line-height:20px;}"]);function ie(){let e=(0,h._)(["\n  fragment ScheduleFragment on Schedule {\n    id\n    name\n    cronSchedule\n    executionTimezone\n    pipelineName\n    solidSelection\n    mode\n    description\n    partitionSet {\n      id\n      name\n    }\n    defaultStatus\n    canReset\n    scheduleState {\n      id\n      ...InstigationStateFragment\n    }\n    futureTicks(limit: 5) {\n      results {\n        timestamp\n      }\n    }\n  }\n\n  ","\n"]);return ie=function(){return e},e}let it=(0,g.Ps)(ie(),r_.ai);var ir=t(74050),ii=t(40782),is=t(9790),io=t(33298),il=t(30916);function ia(){let e=(0,h._)(['\n  query ScheduleRootQuery($scheduleSelector: ScheduleSelector!) {\n    scheduleOrError(scheduleSelector: $scheduleSelector) {\n      ... on Schedule {\n        id\n        ...ScheduleFragment\n      }\n      ... on ScheduleNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n    instance {\n      id\n      daemonHealth {\n        id\n        daemonStatus(daemonType: "SCHEDULER") {\n          id\n          healthy\n        }\n      }\n      ...InstanceHealthFragment\n    }\n  }\n\n  ',"\n  ","\n  ","\n"]);return ia=function(){return e},e}function id(){let e=(0,h._)(["\n  query PreviousRunsForScheduleQuery($filter: RunsFilter, $limit: Int) {\n    pipelineRunsOrError(filter: $filter, limit: $limit) {\n      ... on Runs {\n        results {\n          id\n          ... on PipelineRun {\n            ...RunTableRunFragment\n          }\n        }\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n\n  ","\n"]);return id=function(){return e},e}let ic=e=>{var n;(0,y.Px)();let{repoAddress:t}=e,{scheduleName:i}=(0,d.UO)();(0,v.j)("Schedule: ".concat(i));let s={...(0,et.$)(t),scheduleName:i},[o,l]=a.useState("ticks"),c=(0,g.aM)(iu,{variables:{scheduleSelector:s},notifyOnNetworkStatusChange:!0}),p=(0,g.aM)(rO.d,{variables:{scheduleSelector:s},notifyOnNetworkStatusChange:!0}),u=(0,er.C4)(c,er.dT),h=(0,er.C4)(p,er.dT),x=(0,er.V5)(u,h),m=(0,r.jsxs)(ng.mQ,{selectedTabId:o,onChange:l,children:[(0,r.jsx)(ng.OK,{id:"ticks",title:"Tick history"}),(0,r.jsx)(ng.OK,{id:"runs",title:"Run history"})]}),j=(null===(n=p.data)||void 0===n?void 0:n.scheduleOrError.__typename)==="Schedule"?p.data.scheduleOrError.assetSelection:null;return(0,r.jsx)(A.g,{queryResult:c,allowStaleData:!0,children:e=>{let{scheduleOrError:n,instance:i}=e;if("Schedule"!==n.__typename)return null;let s=!i.daemonHealth.daemonStatus.healthy;return(0,r.jsxs)(nj.T,{children:[(0,r.jsx)(r5,{repoAddress:t,schedule:n,refreshState:x,assetSelection:j}),s?(0,r.jsx)(ir.K,{daemonHealth:i.daemonHealth,padding:{vertical:16,horizontal:24}}):null,"ticks"===o?(0,r.jsx)(is.H,{tabs:m,repoAddress:t,name:n.name}):(0,r.jsx)(ip,{repoAddress:t,schedule:n,tabs:m})]})}})},ip=e=>{let{repoAddress:n,schedule:t,highlightedIds:i,tabs:o}=e,l=(0,g.aM)(ih,{variables:{limit:20,filter:{tags:[{key:tS.H.ScheduleName,value:t.name},{key:tS.H.RepositoryLabelTag,value:(0,p.Wg)(n)}]}},notifyOnNetworkStatusChange:!0});(0,er.C4)(l,er.dT);let{data:a}=l;if(!a)return null;if("Runs"!==a.pipelineRunsOrError.__typename)return(0,r.jsx)(s.t,{icon:"error",title:"Query Error",description:a.pipelineRunsOrError.message});let d=null==a?void 0:a.pipelineRunsOrError.results;return(0,r.jsx)(io.A,{actionBarComponents:o,runs:d,highlightedIds:i,hideCreatedBy:!0})},iu=(0,g.Ps)(ia(),it,f.B,ii.O),ih=(0,g.Ps)(id(),il.Z);var ix=t(6265);let im=()=>{let{repoPath:e}=(0,d.UO)(),n=(0,a.useContext)(el.C5),t=(0,nh.g)(e),{flagCodeLocationPage:l}=(0,nx.gV)(),{loading:c}=n;if(!t)return(0,r.jsx)(i.x,{padding:{vertical:64},children:(0,r.jsx)(s.t,{icon:"error",title:"Invalid code location path",description:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:(0,r.jsx)("strong",{children:e})}),"  is not a valid code location path."]})})});let h=n.allRepos.find(e=>e.repository.name===t.name&&e.repositoryLocation.name===t.location);return h?(0,r.jsxs)(d.rs,{children:[(0,r.jsx)(nm.A,{path:"/locations/:repoPath/graphs/(/?.*)",children:(0,r.jsx)(E,{repoAddress:t})}),(0,r.jsx)(nm.A,{path:["/locations/:repoPath/pipelines/(/?.*)","/locations/:repoPath/jobs/(/?.*)","/locations/:repoPath/pipeline_or_job/(/?.*)"],children:(0,r.jsx)(rP,{repoAddress:t})}),(0,r.jsx)(nm.A,{path:"/locations/:repoPath/schedules/:scheduleName/:runTab?",children:(0,r.jsx)(ic,{repoAddress:t})}),(0,r.jsx)(nm.A,{path:"/locations/:repoPath/sensors/:sensorName",children:(0,r.jsx)(ix.A,{repoAddress:t})}),(0,r.jsx)(nm.A,{path:"/locations/:repoPath/resources/:resourceName",children:(0,r.jsx)(rE.r,{repoAddress:t})}),(0,r.jsx)(nm.A,{path:["/locations/:repoPath/asset-groups/:groupName/list(/?.*)"],children:(0,r.jsx)(nE,{repoAddress:t,tab:"list"})}),(0,r.jsx)(nm.A,{path:["/locations/:repoPath/asset-groups/:groupName/(/?.*)","/locations/:repoPath/asset-groups/:groupName"],children:(0,r.jsx)(nE,{repoAddress:t,tab:"lineage"})}),l?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(nm.A,{path:"/locations/:repoPath",exact:!0,children:(0,r.jsx)(n9,{repoAddress:t})}),(0,r.jsx)(nm.A,{path:"/locations/:repoPath/definitions",exact:!0,children:(0,r.jsx)(d.l_,{to:(0,N.$U)(t,"/assets")})}),(0,r.jsx)(nm.A,{path:["/locations/:repoPath/assets","/locations/:repoPath/jobs","/locations/:repoPath/resources","/locations/:repoPath/schedules","/locations/:repoPath/sensors","/locations/:repoPath/graphs","/locations/:repoPath/ops/:name?"],exact:!0,children:(0,r.jsx)(nW,{repoAddress:t,repository:h.repository})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(nm.A,{path:"/locations/:repoPath",exact:!0,children:(0,r.jsx)(d.l_,{to:(0,N.$U)(t,"/assets")})}),(0,r.jsx)(nm.A,{path:"/locations/:repoPath/resources",exact:!0,children:(0,r.jsx)(rk.g,{repoAddress:t})}),(0,r.jsx)(nm.A,{path:"/locations/:repoPath/assets",exact:!0,children:(0,r.jsx)(eo,{repoAddress:t})}),(0,r.jsx)(nm.A,{path:"/locations/:repoPath/jobs",exact:!0,children:(0,r.jsx)(eN,{repoAddress:t})}),(0,r.jsx)(nm.A,{path:"/locations/:repoPath/schedules",exact:!0,children:(0,r.jsx)(nr,{repoAddress:t})}),(0,r.jsx)(nm.A,{path:"/locations/:repoPath/sensors",exact:!0,children:(0,r.jsx)(np,{repoAddress:t})}),(0,r.jsx)(nm.A,{path:"/locations/:repoPath/graphs",exact:!0,children:(0,r.jsx)(ey,{repoAddress:t})}),(0,r.jsx)(nm.A,{path:"/locations/:repoPath/ops/:name?",exact:!0,children:(0,r.jsx)(eX,{repoAddress:t})})]}),(0,r.jsx)(nm.A,{path:["/locations/:repoPath/*","/locations/:repoPath/"],children:(0,r.jsx)(d.l_,{to:(0,N.$U)(t,"/assets")})})]}):c?(0,r.jsx)(i.x,{padding:{vertical:64},flex:{direction:"row",justifyContent:"center"},children:(0,r.jsx)(o.f,{label:"Loading ".concat((0,p.Uz)(t),"…")})}):(0,r.jsx)(i.x,{padding:{vertical:64},children:(0,r.jsx)(u,{repoAddress:t})})},ij=()=>(0,r.jsx)(l.M,{children:(0,r.jsx)(d.rs,{children:(0,r.jsx)(nm.A,{path:"/locations/:repoPath",children:(0,r.jsx)(im,{})})})});var ig=ij}}]);
//# sourceMappingURL=7808.dc04e28440cee01c.js.map